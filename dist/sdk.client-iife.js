var HarnessFFSDK=(()=>{var pf=Object.create,pr=Object.defineProperty,hf=Object.getPrototypeOf,vf=Object.prototype.hasOwnProperty,mf=Object.getOwnPropertyNames,yf=Object.getOwnPropertyDescriptor;var Oe=Object.assign,Ue=e=>pr(e,"__esModule",{value:!0});var w=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Be=(e,t)=>{for(var n in t)pr(e,n,{get:t[n],enumerable:!0})},gf=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of mf(t))!vf.call(e,r)&&r!=="default"&&pr(e,r,{get:()=>t[r],enumerable:!(n=yf(t,r))||n.enumerable});return e},et=e=>gf(Ue(pr(e!=null?pf(hf(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var hr=(e,t,n)=>new Promise((r,i)=>{var a=u=>{try{s(n.next(u))}catch(f){i(f)}},o=u=>{try{s(n.throw(u))}catch(f){i(f)}},s=u=>u.done?r(u.value):Promise.resolve(u.value).then(a,o);s((n=n.apply(e,t)).next())});var Ri=w((rn,mr)=>{(function(e){"use strict";var t=e.setTimeout,n=e.clearTimeout,r=e.XMLHttpRequest,i=e.XDomainRequest,a=e.ActiveXObject,o=e.EventSource,s=e.document,u=e.Promise,f=e.fetch,d=e.Response,g=e.TextDecoder,h=e.TextEncoder,m=e.AbortController;if(typeof window!="undefined"&&typeof s!="undefined"&&!("readyState"in s)&&s.body==null&&(s.readyState="loading",window.addEventListener("load",function(x){s.readyState="complete"},!1)),r==null&&a!=null&&(r=function(){return new a("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(x){function j(){}return j.prototype=x,new j}),Date.now||(Date.now=function(){return new Date().getTime()}),m==null){var _=f;f=function(x,j){var T=j.signal;return _(x,{headers:j.headers,credentials:j.credentials,cache:j.cache}).then(function(P){var D=P.body.getReader();return T._reader=D,T._aborted&&T._reader.cancel(),{status:P.status,statusText:P.statusText,headers:P.headers,body:{getReader:function(){return D}}}})},m=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function S(){this.bitsNeeded=0,this.codePoint=0}S.prototype.decode=function(x){function j(z,G,N){if(N===1)return z>=128>>G&&z<<G<=2047;if(N===2)return z>=2048>>G&&z<<G<=55295||z>=57344>>G&&z<<G<=65535;if(N===3)return z>=65536>>G&&z<<G<=1114111;throw new Error}function T(z,G){if(z===6*1)return G>>6>15?3:G>31?2:1;if(z===6*2)return G>15?3:2;if(z===6*3)return 3;throw new Error}for(var P=65533,D="",k=this.bitsNeeded,L=this.codePoint,Q=0;Q<x.length;Q+=1){var B=x[Q];k!==0&&(B<128||B>191||!j(L<<6|B&63,k-6,T(k,L)))&&(k=0,L=P,D+=String.fromCharCode(L)),k===0?(B>=0&&B<=127?(k=0,L=B):B>=192&&B<=223?(k=6*1,L=B&31):B>=224&&B<=239?(k=6*2,L=B&15):B>=240&&B<=247?(k=6*3,L=B&7):(k=0,L=P),k!==0&&!j(L,k,T(k,L))&&(k=0,L=P)):(k-=6,L=L<<6|B&63),k===0&&(L<=65535?D+=String.fromCharCode(L):(D+=String.fromCharCode(55296+(L-65535-1>>10)),D+=String.fromCharCode(56320+(L-65535-1&1023))))}return this.bitsNeeded=k,this.codePoint=L,D};var E=function(){try{return new g().decode(new h().encode("test"),{stream:!0})==="test"}catch(x){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+x)}return!1};(g==null||h==null||!E())&&(g=S);var b=function(){};function y(x){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=b,this.onload=b,this.onerror=b,this.onreadystatechange=b,this._contentType="",this._xhr=x,this._sendTimeout=0,this._abort=b}y.prototype.open=function(x,j){this._abort(!0);var T=this,P=this._xhr,D=1,k=0;this._abort=function(N){T._sendTimeout!==0&&(n(T._sendTimeout),T._sendTimeout=0),(D===1||D===2||D===3)&&(D=4,P.onload=b,P.onerror=b,P.onabort=b,P.onprogress=b,P.onreadystatechange=b,P.abort(),k!==0&&(n(k),k=0),N||(T.readyState=4,T.onabort(null),T.onreadystatechange())),D=0};var L=function(){if(D===1){var N=0,Y="",Ne=void 0;if("contentType"in P)N=200,Y="OK",Ne=P.contentType;else try{N=P.status,Y=P.statusText,Ne=P.getResponseHeader("Content-Type")}catch(Vt){N=0,Y="",Ne=void 0}N!==0&&(D=2,T.readyState=2,T.status=N,T.statusText=Y,T._contentType=Ne,T.onreadystatechange())}},Q=function(){if(L(),D===2||D===3){D=3;var N="";try{N=P.responseText}catch(Y){}T.readyState=3,T.responseText=N,T.onprogress()}},B=function(N,Y){if((Y==null||Y.preventDefault==null)&&(Y={preventDefault:b}),Q(),D===1||D===2||D===3){if(D=4,k!==0&&(n(k),k=0),T.readyState=4,N==="load")T.onload(Y);else if(N==="error")T.onerror(Y);else if(N==="abort")T.onabort(Y);else throw new TypeError;T.onreadystatechange()}},z=function(N){P!=null&&(P.readyState===4?(!("onload"in P)||!("onerror"in P)||!("onabort"in P))&&B(P.responseText===""?"error":"load",N):P.readyState===3?"onprogress"in P||Q():P.readyState===2&&L())},G=function(){k=t(function(){G()},500),P.readyState===3&&Q()};"onload"in P&&(P.onload=function(N){B("load",N)}),"onerror"in P&&(P.onerror=function(N){B("error",N)}),"onabort"in P&&(P.onabort=function(N){B("abort",N)}),"onprogress"in P&&(P.onprogress=Q),"onreadystatechange"in P&&(P.onreadystatechange=function(N){z(N)}),("contentType"in P||!("ontimeout"in r.prototype))&&(j+=(j.indexOf("?")===-1?"?":"&")+"padding=true"),P.open(x,j,!0),"readyState"in P&&(k=t(function(){G()},0))},y.prototype.abort=function(){this._abort(!1)},y.prototype.getResponseHeader=function(x){return this._contentType},y.prototype.setRequestHeader=function(x,j){var T=this._xhr;"setRequestHeader"in T&&T.setRequestHeader(x,j)},y.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},y.prototype.send=function(){if((!("ontimeout"in r.prototype)||!("sendAsBinary"in r.prototype)&&!("mozAnon"in r.prototype))&&s!=null&&s.readyState!=null&&s.readyState!=="complete"){var x=this;x._sendTimeout=t(function(){x._sendTimeout=0,x.send()},4);return}var j=this._xhr;"withCredentials"in j&&(j.withCredentials=this.withCredentials);try{j.send(void 0)}catch(T){throw T}};function l(x){return x.replace(/[A-Z]/g,function(j){return String.fromCharCode(j.charCodeAt(0)+32)})}function c(x){for(var j=Object.create(null),T=x.split(`\r
`),P=0;P<T.length;P+=1){var D=T[P],k=D.split(": "),L=k.shift(),Q=k.join(": ");j[l(L)]=Q}this._map=j}c.prototype.get=function(x){return this._map[l(x)]},r!=null&&r.HEADERS_RECEIVED==null&&(r.HEADERS_RECEIVED=2);function v(){}v.prototype.open=function(x,j,T,P,D,k,L){x.open("GET",D);var Q=0;x.onprogress=function(){var z=x.responseText,G=z.slice(Q);Q+=G.length,T(G)},x.onerror=function(z){z.preventDefault(),P(new Error("NetworkError"))},x.onload=function(){P(null)},x.onabort=function(){P(null)},x.onreadystatechange=function(){if(x.readyState===r.HEADERS_RECEIVED){var z=x.status,G=x.statusText,N=x.getResponseHeader("Content-Type"),Y=x.getAllResponseHeaders();j(z,G,N,new c(Y))}},x.withCredentials=k;for(var B in L)Object.prototype.hasOwnProperty.call(L,B)&&x.setRequestHeader(B,L[B]);return x.send(),x};function p(x){this._headers=x}p.prototype.get=function(x){return this._headers.get(x)};function R(){}R.prototype.open=function(x,j,T,P,D,k,L){var Q=null,B=new m,z=B.signal,G=new g;return f(D,{headers:L,credentials:k?"include":"same-origin",signal:z,cache:"no-store"}).then(function(N){return Q=N.body.getReader(),j(N.status,N.statusText,N.headers.get("Content-Type"),new p(N.headers)),new u(function(Y,Ne){var Vt=function(){Q.read().then(function(ye){if(ye.done)Y(void 0);else{var ue=G.decode(ye.value,{stream:!0});T(ue),Vt()}}).catch(function(ye){Ne(ye)})};Vt()})}).catch(function(N){if(N.name!=="AbortError")return N}).then(function(N){P(N)}),{abort:function(){Q!=null&&Q.cancel(),B.abort()}}};function H(){this._listeners=Object.create(null)}function U(x){t(function(){throw x},0)}H.prototype.dispatchEvent=function(x){x.target=this;var j=this._listeners[x.type];if(j!=null)for(var T=j.length,P=0;P<T;P+=1){var D=j[P];try{typeof D.handleEvent=="function"?D.handleEvent(x):D.call(this,x)}catch(k){U(k)}}},H.prototype.addEventListener=function(x,j){x=String(x);var T=this._listeners,P=T[x];P==null&&(P=[],T[x]=P);for(var D=!1,k=0;k<P.length;k+=1)P[k]===j&&(D=!0);D||P.push(j)},H.prototype.removeEventListener=function(x,j){x=String(x);var T=this._listeners,P=T[x];if(P!=null){for(var D=[],k=0;k<P.length;k+=1)P[k]!==j&&D.push(P[k]);D.length===0?delete T[x]:T[x]=D}};function Z(x){this.type=x,this.target=void 0}function De(x,j){Z.call(this,x),this.data=j.data,this.lastEventId=j.lastEventId}De.prototype=Object.create(Z.prototype);function Bt(x,j){Z.call(this,x),this.status=j.status,this.statusText=j.statusText,this.headers=j.headers}Bt.prototype=Object.create(Z.prototype);function lr(x,j){Z.call(this,x),this.error=j.error}lr.prototype=Object.create(Z.prototype);var ft=-1,F=0,q=1,C=2,V=-1,K=0,te=1,ne=2,de=3,cr=/^text\/event\-stream(;.*)?$/i,of=1e3,sf=18e6,Qr=function(x,j){var T=x==null?j:parseInt(x,10);return T!==T&&(T=j),Yr(T)},Yr=function(x){return Math.min(Math.max(x,of),sf)},dt=function(x,j,T){try{typeof j=="function"&&j.call(x,T)}catch(P){U(P)}};function xe(x,j){H.call(this),j=j||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,cf(this,x,j)}function uf(){return r!=null&&"withCredentials"in r.prototype||i==null?new r:new i}var lf=f!=null&&d!=null&&"body"in d.prototype;function cf(x,j,T){j=String(j);var P=Boolean(T.withCredentials),D=T.lastEventIdQueryParameterName||"lastEventId",k=Yr(1e3),L=Qr(T.heartbeatTimeout,45e3),Q="",B=k,z=!1,G=0,N=T.headers||{},Y=T.Transport,Ne=lf&&Y==null?void 0:new y(Y!=null?new Y:uf()),Vt=Y!=null&&typeof Y!="string"?new Y:Ne==null?new R:new v,ye=void 0,ue=0,we=ft,pt="",fr="",Me="",dr="",le=K,Zr=0,Ze=0,ff=function(ie,re,ge,be){if(we===F)if(ie===200&&ge!=null&&cr.test(ge)){we=q,z=Date.now(),B=k,x.readyState=q;var ce=new Bt("open",{status:ie,statusText:re,headers:be});x.dispatchEvent(ce),dt(x,x.onopen,ce)}else{var oe="";ie!==200?(re&&(re=re.replace(/\s+/g," ")),oe="EventSource's response has a status "+ie+" "+re+" that is not 200. Aborting the connection."):oe="EventSource's response has a Content-Type specifying an unsupported type: "+(ge==null?"-":ge.replace(/\s+/g," "))+". Aborting the connection.",en();var ce=new Bt("error",{status:ie,statusText:re,headers:be});x.dispatchEvent(ce),dt(x,x.onerror,ce),console.error(oe)}},df=function(ie){if(we===q){for(var re=-1,ge=0;ge<ie.length;ge+=1){var be=ie.charCodeAt(ge);(be===`
`.charCodeAt(0)||be==="\r".charCodeAt(0))&&(re=ge)}var ce=(re!==-1?dr:"")+ie.slice(0,re+1);dr=(re===-1?dr:"")+ie.slice(re+1),ie!==""&&(z=Date.now(),G+=ie.length);for(var oe=0;oe<ce.length;oe+=1){var be=ce.charCodeAt(oe);if(le===V&&be===`
`.charCodeAt(0))le=K;else if(le===V&&(le=K),be==="\r".charCodeAt(0)||be===`
`.charCodeAt(0)){if(le!==K){le===te&&(Ze=oe+1);var Re=ce.slice(Zr,Ze-1),Le=ce.slice(Ze+(Ze<oe&&ce.charCodeAt(Ze)===" ".charCodeAt(0)?1:0),oe);Re==="data"?(pt+=`
`,pt+=Le):Re==="id"?fr=Le:Re==="event"?Me=Le:Re==="retry"?(k=Qr(Le,k),B=k):Re==="heartbeatTimeout"&&(L=Qr(Le,L),ue!==0&&(n(ue),ue=t(function(){zt()},L)))}if(le===K){if(pt!==""){Q=fr,Me===""&&(Me="message");var ht=new De(Me,{data:pt.slice(1),lastEventId:fr});if(x.dispatchEvent(ht),Me==="open"?dt(x,x.onopen,ht):Me==="message"?dt(x,x.onmessage,ht):Me==="error"&&dt(x,x.onerror,ht),we===C)return}pt="",Me=""}le=be==="\r".charCodeAt(0)?V:K}else le===K&&(Zr=oe,le=te),le===te?be===":".charCodeAt(0)&&(Ze=oe+1,le=ne):le===ne&&(le=de)}}},ki=function(ie){if(we===q||we===F)we=ft,ue!==0&&(n(ue),ue=0),ue=t(function(){zt()},B),B=Yr(Math.min(k*16,B*2)),x.readyState=F;else if(we===C&&ie!=null){console.error(ie);var re=new lr("error",{error:ie});x.dispatchEvent(re),dt(x,x.onerror,re)}},en=function(){we=C,ye!=null&&(ye.abort(),ye=void 0),ue!==0&&(n(ue),ue=0),x.readyState=C},zt=function(){if(ue=0,we!==ft){if(!z&&ye!=null)ki(new Error("No activity within "+L+" milliseconds. "+(we===F?"No response received.":G+" chars received.")+" Reconnecting.")),ye!=null&&(ye.abort(),ye=void 0);else{var ie=Math.max((z||Date.now())+L-Date.now(),1);z=!1,ue=t(function(){zt()},ie)}return}z=!1,G=0,ue=t(function(){zt()},L),we=F,pt="",Me="",fr=Q,dr="",Zr=0,Ze=0,le=K;var re=j;if(j.slice(0,5)!=="data:"&&j.slice(0,5)!=="blob:"&&Q!==""){var ge=j.indexOf("?");re=ge===-1?j:j.slice(0,ge+1)+j.slice(ge+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Le,ht){return ht===D?"":Le}),re+=(j.indexOf("?")===-1?"?":"&")+D+"="+encodeURIComponent(Q)}var be=x.withCredentials,ce={};ce.Accept="text/event-stream";var oe=x.headers;if(oe!=null)for(var Re in oe)Object.prototype.hasOwnProperty.call(oe,Re)&&(ce[Re]=oe[Re]);try{ye=Vt.open(Ne,ff,df,ki,re,be,ce)}catch(Le){throw en(),Le}};x.url=j,x.readyState=F,x.withCredentials=P,x.headers=N,x._close=en,zt()}xe.prototype=Object.create(H.prototype),xe.prototype.CONNECTING=F,xe.prototype.OPEN=q,xe.prototype.CLOSED=C,xe.prototype.close=function(){this._close()},xe.CONNECTING=F,xe.OPEN=q,xe.CLOSED=C,xe.prototype.withCredentials=void 0;var qi=o;r!=null&&(o==null||!("withCredentials"in o.prototype))&&(qi=xe),function(x){if(typeof mr=="object"&&typeof mr.exports=="object"){var j=x(rn);j!==void 0&&(mr.exports=j)}else typeof define=="function"&&define.amd?define(["exports"],x):x(e)}(function(x){x.EventSourcePolyfill=xe,x.NativeEventSource=o,x.EventSource=qi})})(typeof globalThis=="undefined"?typeof window!="undefined"?window:typeof self!="undefined"?self:rn:globalThis)});var da=w((Oy,gr)=>{var Bi,Vi,zi,Hi,Gi,Ki,Wi,$i,Ji,Xi,Qi,Yi,Zi,br,on,ea,ta,ra,yt,na,ia,aa,oa,sa,ua,la,ca,fa,_r;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){e(n(t,n(r)))}):typeof gr=="object"&&typeof gr.exports=="object"?e(n(t,n(gr.exports))):e(n(t));function n(r,i){return r!==t&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(a,o){return r[a]=i?i(a,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])};Bi=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(r,i);function a(){this.constructor=r}r.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},Vi=Object.assign||function(r){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},zi=function(r,i){var a={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(a[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(r);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(r,o[s])&&(a[o[s]]=r[o[s]]);return a},Hi=function(r,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,i,a,o);else for(var d=r.length-1;d>=0;d--)(f=r[d])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},Gi=function(r,i){return function(a,o){i(a,o,r)}},Ki=function(r,i,a,o,s,u){function f(c){if(c!==void 0&&typeof c!="function")throw new TypeError("Function expected");return c}for(var d=o.kind,g=d==="getter"?"get":d==="setter"?"set":"value",h=!i&&r?o.static?r:r.prototype:null,m=i||(h?Object.getOwnPropertyDescriptor(h,o.name):{}),_,S=!1,E=a.length-1;E>=0;E--){var b={};for(var y in o)b[y]=y==="access"?{}:o[y];for(var y in o.access)b.access[y]=o.access[y];b.addInitializer=function(c){if(S)throw new TypeError("Cannot add initializers after decoration has completed");u.push(f(c||null))};var l=(0,a[E])(d==="accessor"?{get:m.get,set:m.set}:m[g],b);if(d==="accessor"){if(l===void 0)continue;if(l===null||typeof l!="object")throw new TypeError("Object expected");(_=f(l.get))&&(m.get=_),(_=f(l.set))&&(m.set=_),(_=f(l.init))&&s.push(_)}else(_=f(l))&&(d==="field"?s.push(_):m[g]=_)}h&&Object.defineProperty(h,o.name,m),S=!0},Wi=function(r,i,a){for(var o=arguments.length>2,s=0;s<i.length;s++)a=o?i[s].call(r,a):i[s].call(r);return o?a:void 0},$i=function(r){return typeof r=="symbol"?r:"".concat(r)},Ji=function(r,i,a){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:a?"".concat(a," ",i):i})},Xi=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},Qi=function(r,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function d(m){try{h(o.next(m))}catch(_){f(_)}}function g(m){try{h(o.throw(m))}catch(_){f(_)}}function h(m){m.done?u(m.value):s(m.value).then(d,g)}h((o=o.apply(r,i||[])).next())})},Yi=function(r,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(h){return function(m){return g([h,m])}}function g(h){if(o)throw new TypeError("Generator is already executing.");for(;f&&(f=0,h[0]&&(a=0)),a;)try{if(o=1,s&&(u=h[0]&2?s.return:h[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,h[1])).done)return u;switch(s=0,u&&(h=[h[0]&2,u.value]),h[0]){case 0:case 1:u=h;break;case 4:return a.label++,{value:h[1],done:!1};case 5:a.label++,s=h[1],h=[0];continue;case 7:h=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(h[0]===6||h[0]===2)){a=0;continue}if(h[0]===3&&(!u||h[1]>u[0]&&h[1]<u[3])){a.label=h[1];break}if(h[0]===6&&a.label<u[1]){a.label=u[1],u=h;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(h);break}u[2]&&a.ops.pop(),a.trys.pop();continue}h=i.call(r,a)}catch(m){h=[6,m],s=0}finally{o=u=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Zi=function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&_r(i,r,a)},_r=Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]},br=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&r[i],o=0;if(a)return a.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},on=function(r,i){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var o=a.call(r),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(d){f={error:d}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},ea=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(on(arguments[i]));return r},ta=function(){for(var r=0,i=0,a=arguments.length;i<a;i++)r+=arguments[i].length;for(var o=Array(r),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,d=u.length;f<d;f++,s++)o[s]=u[f];return o},ra=function(r,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return r.concat(u||Array.prototype.slice.call(i))},yt=function(r){return this instanceof yt?(this.v=r,this):new yt(r)},na=function(r,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(r,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(S){o[S]&&(s[S]=function(E){return new Promise(function(b,y){u.push([S,E,b,y])>1||d(S,E)})})}function d(S,E){try{g(o[S](E))}catch(b){_(u[0][3],b)}}function g(S){S.value instanceof yt?Promise.resolve(S.value.v).then(h,m):_(u[0][2],S)}function h(S){d("next",S)}function m(S){d("throw",S)}function _(S,E){S(E),u.shift(),u.length&&d(u[0][0],u[0][1])}},ia=function(r){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=r[s]?function(f){return(a=!a)?{value:yt(r[s](f)),done:!1}:u?u(f):f}:u}},aa=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],a;return i?i.call(r):(r=typeof br=="function"?br(r):r[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=r[u]&&function(f){return new Promise(function(d,g){f=r[u](f),s(d,g,f.done,f.value)})}}function s(u,f,d,g){Promise.resolve(g).then(function(h){u({value:h,done:d})},f)}},oa=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var n=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};sa=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var a in r)a!=="default"&&Object.prototype.hasOwnProperty.call(r,a)&&_r(i,r,a);return n(i,r),i},ua=function(r){return r&&r.__esModule?r:{default:r}},la=function(r,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!o:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(r):o?o.value:i.get(r)},ca=function(r,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!s:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(r,a):s?s.value=a:i.set(r,a),a},fa=function(r,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?i===r:r.has(i)},e("__extends",Bi),e("__assign",Vi),e("__rest",zi),e("__decorate",Hi),e("__param",Gi),e("__esDecorate",Ki),e("__runInitializers",Wi),e("__propKey",$i),e("__setFunctionName",Ji),e("__metadata",Xi),e("__awaiter",Qi),e("__generator",Yi),e("__exportStar",Zi),e("__createBinding",_r),e("__values",br),e("__read",on),e("__spread",ea),e("__spreadArrays",ta),e("__spreadArray",ra),e("__await",yt),e("__asyncGenerator",na),e("__asyncDelegator",ia),e("__asyncValues",aa),e("__makeTemplateObject",oa),e("__importStar",sa),e("__importDefault",ua),e("__classPrivateFieldGet",la),e("__classPrivateFieldSet",ca),e("__classPrivateFieldIn",fa)})});var Ra=w((Na,Ma)=>{(function(e){if(typeof Na=="object")Ma.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var t;try{t=window}catch(n){t=self}t.SparkMD5=e()}})(function(e){"use strict";var t=function(b,y){return b+y&4294967295},n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(b,y,l,c,v,p){return y=t(t(y,b),t(c,p)),t(y<<v|y>>>32-v,l)}function i(b,y){var l=b[0],c=b[1],v=b[2],p=b[3];l+=(c&v|~c&p)+y[0]-680876936|0,l=(l<<7|l>>>25)+c|0,p+=(l&c|~l&v)+y[1]-389564586|0,p=(p<<12|p>>>20)+l|0,v+=(p&l|~p&c)+y[2]+606105819|0,v=(v<<17|v>>>15)+p|0,c+=(v&p|~v&l)+y[3]-1044525330|0,c=(c<<22|c>>>10)+v|0,l+=(c&v|~c&p)+y[4]-176418897|0,l=(l<<7|l>>>25)+c|0,p+=(l&c|~l&v)+y[5]+1200080426|0,p=(p<<12|p>>>20)+l|0,v+=(p&l|~p&c)+y[6]-1473231341|0,v=(v<<17|v>>>15)+p|0,c+=(v&p|~v&l)+y[7]-45705983|0,c=(c<<22|c>>>10)+v|0,l+=(c&v|~c&p)+y[8]+1770035416|0,l=(l<<7|l>>>25)+c|0,p+=(l&c|~l&v)+y[9]-1958414417|0,p=(p<<12|p>>>20)+l|0,v+=(p&l|~p&c)+y[10]-42063|0,v=(v<<17|v>>>15)+p|0,c+=(v&p|~v&l)+y[11]-1990404162|0,c=(c<<22|c>>>10)+v|0,l+=(c&v|~c&p)+y[12]+1804603682|0,l=(l<<7|l>>>25)+c|0,p+=(l&c|~l&v)+y[13]-40341101|0,p=(p<<12|p>>>20)+l|0,v+=(p&l|~p&c)+y[14]-1502002290|0,v=(v<<17|v>>>15)+p|0,c+=(v&p|~v&l)+y[15]+1236535329|0,c=(c<<22|c>>>10)+v|0,l+=(c&p|v&~p)+y[1]-165796510|0,l=(l<<5|l>>>27)+c|0,p+=(l&v|c&~v)+y[6]-1069501632|0,p=(p<<9|p>>>23)+l|0,v+=(p&c|l&~c)+y[11]+643717713|0,v=(v<<14|v>>>18)+p|0,c+=(v&l|p&~l)+y[0]-373897302|0,c=(c<<20|c>>>12)+v|0,l+=(c&p|v&~p)+y[5]-701558691|0,l=(l<<5|l>>>27)+c|0,p+=(l&v|c&~v)+y[10]+38016083|0,p=(p<<9|p>>>23)+l|0,v+=(p&c|l&~c)+y[15]-660478335|0,v=(v<<14|v>>>18)+p|0,c+=(v&l|p&~l)+y[4]-405537848|0,c=(c<<20|c>>>12)+v|0,l+=(c&p|v&~p)+y[9]+568446438|0,l=(l<<5|l>>>27)+c|0,p+=(l&v|c&~v)+y[14]-1019803690|0,p=(p<<9|p>>>23)+l|0,v+=(p&c|l&~c)+y[3]-187363961|0,v=(v<<14|v>>>18)+p|0,c+=(v&l|p&~l)+y[8]+1163531501|0,c=(c<<20|c>>>12)+v|0,l+=(c&p|v&~p)+y[13]-1444681467|0,l=(l<<5|l>>>27)+c|0,p+=(l&v|c&~v)+y[2]-51403784|0,p=(p<<9|p>>>23)+l|0,v+=(p&c|l&~c)+y[7]+1735328473|0,v=(v<<14|v>>>18)+p|0,c+=(v&l|p&~l)+y[12]-1926607734|0,c=(c<<20|c>>>12)+v|0,l+=(c^v^p)+y[5]-378558|0,l=(l<<4|l>>>28)+c|0,p+=(l^c^v)+y[8]-2022574463|0,p=(p<<11|p>>>21)+l|0,v+=(p^l^c)+y[11]+1839030562|0,v=(v<<16|v>>>16)+p|0,c+=(v^p^l)+y[14]-35309556|0,c=(c<<23|c>>>9)+v|0,l+=(c^v^p)+y[1]-1530992060|0,l=(l<<4|l>>>28)+c|0,p+=(l^c^v)+y[4]+1272893353|0,p=(p<<11|p>>>21)+l|0,v+=(p^l^c)+y[7]-155497632|0,v=(v<<16|v>>>16)+p|0,c+=(v^p^l)+y[10]-1094730640|0,c=(c<<23|c>>>9)+v|0,l+=(c^v^p)+y[13]+681279174|0,l=(l<<4|l>>>28)+c|0,p+=(l^c^v)+y[0]-358537222|0,p=(p<<11|p>>>21)+l|0,v+=(p^l^c)+y[3]-722521979|0,v=(v<<16|v>>>16)+p|0,c+=(v^p^l)+y[6]+76029189|0,c=(c<<23|c>>>9)+v|0,l+=(c^v^p)+y[9]-640364487|0,l=(l<<4|l>>>28)+c|0,p+=(l^c^v)+y[12]-421815835|0,p=(p<<11|p>>>21)+l|0,v+=(p^l^c)+y[15]+530742520|0,v=(v<<16|v>>>16)+p|0,c+=(v^p^l)+y[2]-995338651|0,c=(c<<23|c>>>9)+v|0,l+=(v^(c|~p))+y[0]-198630844|0,l=(l<<6|l>>>26)+c|0,p+=(c^(l|~v))+y[7]+1126891415|0,p=(p<<10|p>>>22)+l|0,v+=(l^(p|~c))+y[14]-1416354905|0,v=(v<<15|v>>>17)+p|0,c+=(p^(v|~l))+y[5]-57434055|0,c=(c<<21|c>>>11)+v|0,l+=(v^(c|~p))+y[12]+1700485571|0,l=(l<<6|l>>>26)+c|0,p+=(c^(l|~v))+y[3]-1894986606|0,p=(p<<10|p>>>22)+l|0,v+=(l^(p|~c))+y[10]-1051523|0,v=(v<<15|v>>>17)+p|0,c+=(p^(v|~l))+y[1]-2054922799|0,c=(c<<21|c>>>11)+v|0,l+=(v^(c|~p))+y[8]+1873313359|0,l=(l<<6|l>>>26)+c|0,p+=(c^(l|~v))+y[15]-30611744|0,p=(p<<10|p>>>22)+l|0,v+=(l^(p|~c))+y[6]-1560198380|0,v=(v<<15|v>>>17)+p|0,c+=(p^(v|~l))+y[13]+1309151649|0,c=(c<<21|c>>>11)+v|0,l+=(v^(c|~p))+y[4]-145523070|0,l=(l<<6|l>>>26)+c|0,p+=(c^(l|~v))+y[11]-1120210379|0,p=(p<<10|p>>>22)+l|0,v+=(l^(p|~c))+y[2]+718787259|0,v=(v<<15|v>>>17)+p|0,c+=(p^(v|~l))+y[9]-343485551|0,c=(c<<21|c>>>11)+v|0,b[0]=l+b[0]|0,b[1]=c+b[1]|0,b[2]=v+b[2]|0,b[3]=p+b[3]|0}function a(b){var y=[],l;for(l=0;l<64;l+=4)y[l>>2]=b.charCodeAt(l)+(b.charCodeAt(l+1)<<8)+(b.charCodeAt(l+2)<<16)+(b.charCodeAt(l+3)<<24);return y}function o(b){var y=[],l;for(l=0;l<64;l+=4)y[l>>2]=b[l]+(b[l+1]<<8)+(b[l+2]<<16)+(b[l+3]<<24);return y}function s(b){var y=b.length,l=[1732584193,-271733879,-1732584194,271733878],c,v,p,R,H,U;for(c=64;c<=y;c+=64)i(l,a(b.substring(c-64,c)));for(b=b.substring(c-64),v=b.length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<v;c+=1)p[c>>2]|=b.charCodeAt(c)<<(c%4<<3);if(p[c>>2]|=128<<(c%4<<3),c>55)for(i(l,p),c=0;c<16;c+=1)p[c]=0;return R=y*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),H=parseInt(R[2],16),U=parseInt(R[1],16)||0,p[14]=H,p[15]=U,i(l,p),l}function u(b){var y=b.length,l=[1732584193,-271733879,-1732584194,271733878],c,v,p,R,H,U;for(c=64;c<=y;c+=64)i(l,o(b.subarray(c-64,c)));for(b=c-64<y?b.subarray(c-64):new Uint8Array(0),v=b.length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<v;c+=1)p[c>>2]|=b[c]<<(c%4<<3);if(p[c>>2]|=128<<(c%4<<3),c>55)for(i(l,p),c=0;c<16;c+=1)p[c]=0;return R=y*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),H=parseInt(R[2],16),U=parseInt(R[1],16)||0,p[14]=H,p[15]=U,i(l,p),l}function f(b){var y="",l;for(l=0;l<4;l+=1)y+=n[b>>l*8+4&15]+n[b>>l*8&15];return y}function d(b){var y;for(y=0;y<b.length;y+=1)b[y]=f(b[y]);return b.join("")}d(s("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(t=function(b,y){var l=(b&65535)+(y&65535),c=(b>>16)+(y>>16)+(l>>16);return c<<16|l&65535}),typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function b(y,l){return y=y|0||0,y<0?Math.max(y+l,0):Math.min(y,l)}ArrayBuffer.prototype.slice=function(y,l){var c=this.byteLength,v=b(y,c),p=c,R,H,U,Z;return l!==e&&(p=b(l,c)),v>p?new ArrayBuffer(0):(R=p-v,H=new ArrayBuffer(R),U=new Uint8Array(H),Z=new Uint8Array(this,v,R),U.set(Z),H)}}();function g(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function h(b,y){var l=b.length,c=new ArrayBuffer(l),v=new Uint8Array(c),p;for(p=0;p<l;p+=1)v[p]=b.charCodeAt(p);return y?v:c}function m(b){return String.fromCharCode.apply(null,new Uint8Array(b))}function _(b,y,l){var c=new Uint8Array(b.byteLength+y.byteLength);return c.set(new Uint8Array(b)),c.set(new Uint8Array(y),b.byteLength),l?c:c.buffer}function S(b){var y=[],l=b.length,c;for(c=0;c<l-1;c+=2)y.push(parseInt(b.substr(c,2),16));return String.fromCharCode.apply(String,y)}function E(){this.reset()}return E.prototype.append=function(b){return this.appendBinary(g(b)),this},E.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var y=this._buff.length,l;for(l=64;l<=y;l+=64)i(this._hash,a(this._buff.substring(l-64,l)));return this._buff=this._buff.substring(l-64),this},E.prototype.end=function(b){var y=this._buff,l=y.length,c,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p;for(c=0;c<l;c+=1)v[c>>2]|=y.charCodeAt(c)<<(c%4<<3);return this._finish(v,l),p=d(this._hash),b&&(p=S(p)),this.reset(),p},E.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},E.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},E.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},E.prototype._finish=function(b,y){var l=y,c,v,p;if(b[l>>2]|=128<<(l%4<<3),l>55)for(i(this._hash,b),l=0;l<16;l+=1)b[l]=0;c=this._length*8,c=c.toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(c[2],16),p=parseInt(c[1],16)||0,b[14]=v,b[15]=p,i(this._hash,b)},E.hash=function(b,y){return E.hashBinary(g(b),y)},E.hashBinary=function(b,y){var l=s(b),c=d(l);return y?S(c):c},E.ArrayBuffer=function(){this.reset()},E.ArrayBuffer.prototype.append=function(b){var y=_(this._buff.buffer,b,!0),l=y.length,c;for(this._length+=b.byteLength,c=64;c<=l;c+=64)i(this._hash,o(y.subarray(c-64,c)));return this._buff=c-64<l?new Uint8Array(y.buffer.slice(c-64)):new Uint8Array(0),this},E.ArrayBuffer.prototype.end=function(b){var y=this._buff,l=y.length,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v,p;for(v=0;v<l;v+=1)c[v>>2]|=y[v]<<(v%4<<3);return this._finish(c,l),p=d(this._hash),b&&(p=S(p)),this.reset(),p},E.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.ArrayBuffer.prototype.getState=function(){var b=E.prototype.getState.call(this);return b.buff=m(b.buff),b},E.ArrayBuffer.prototype.setState=function(b){return b.buff=h(b.buff,!0),E.prototype.setState.call(this,b)},E.ArrayBuffer.prototype.destroy=E.prototype.destroy,E.ArrayBuffer.prototype._finish=E.prototype._finish,E.ArrayBuffer.hash=function(b,y){var l=u(new Uint8Array(b)),c=d(l);return y?S(c):c},E})});var Jt=w(zf=>{Ue(zf);Be(zf,{form:()=>Wf,link:()=>Kf});function Hf(e){var t=e;return!!(t.ctrlKey||t.shiftKey||t.metaKey||t.button&&t.button==1)}function Gf(e,t){return!!(e.target==="_blank"&&t)}function Kf(e,t,n,r){var i=this,a=[];return e?(e instanceof Element?a=[e]:"toArray"in e?a=e.toArray():a=e,a.forEach(function(o){o.addEventListener("click",function(s){var u,f,d=t instanceof Function?t(o):t,g=n instanceof Function?n(o):n,h=o.getAttribute("href")||o.getAttributeNS("http://www.w3.org/1999/xlink","href")||o.getAttribute("xlink:href")||((u=o.getElementsByTagName("a")[0])===null||u===void 0?void 0:u.getAttribute("href")),m=xr(i.track(d,g,r!=null?r:{}),(f=i.settings.timeout)!==null&&f!==void 0?f:500);!Gf(o,h)&&!Hf(s)&&h&&(s.preventDefault?s.preventDefault():s.returnValue=!1,m.catch(console.error).then(function(){window.location.href=h}).catch(console.error))},!1)}),this):this}function Wf(e,t,n,r){var i=this;if(!e)return this;e instanceof HTMLFormElement&&(e=[e]);var a=e;return a.forEach(function(o){if(!(o instanceof Element))throw new TypeError("Must pass HTMLElement to trackForm/trackSubmit.");var s=function(f){var d;f.preventDefault?f.preventDefault():f.returnValue=!1;var g=t instanceof Function?t(o):t,h=n instanceof Function?n(o):n,m=xr(i.track(g,h,r!=null?r:{}),(d=i.settings.timeout)!==null&&d!==void 0?d:500);m.catch(console.error).then(function(){o.submit()}).catch(console.error)},u=window.jQuery||window.Zepto;u?u(o).submit(s):o.addEventListener("submit",s,!1)}),this}});var Xt=w((Kg,Et)=>{Et.exports=_n($f);Et.exports.find=Et.exports;Et.exports.replace=function(e,t,n,r){return _n(Jf).call(this,e,t,n,r),e};Et.exports.del=function(e,t,n){return _n(Xf).call(this,e,t,null,n),e};function _n(e){return function(t,n,r,i){var a=i&&Yf(i.normalizer)?i.normalizer:Qf;n=a(n);for(var o,s=!1;!s;)u();function u(){for(o in t){var f=a(o);if(n.indexOf(f)===0){var d=n.substr(f.length);if(d.charAt(0)==="."||d.length===0){n=d.substr(1);var g=t[o];if(g==null){s=!0;return}if(!n.length){s=!0;return}t=g;return}}}o=void 0,s=!0}if(!!o)return t==null?t:e(t,o,r)}}function $f(e,t){if(e.hasOwnProperty(t))return e[t]}function Xf(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function Jf(e,t,n){return e.hasOwnProperty(t)&&(e[t]=n),e}function Qf(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function Yf(e){return typeof e=="function"}});var Ga=w(Qt=>{"use strict";var Zf=Qt&&Qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qt,"__esModule",{value:!0});var $e=Zf(Xt());function At(e,t){return function(){var n=this.traits(),r=this.properties?this.properties():{};return $e.default(n,"address."+e)||$e.default(n,e)||(t?$e.default(n,"address."+t):null)||(t?$e.default(n,t):null)||$e.default(r,"address."+e)||$e.default(r,e)||(t?$e.default(r,"address."+t):null)||(t?$e.default(r,t):null)}}function ed(e){e.zip=At("postalCode","zip"),e.country=At("country"),e.street=At("street"),e.state=At("state"),e.city=At("city"),e.region=At("region")}Qt.default=ed});var Ka=w(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.clone=void 0;function wn(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=wn(e[n]));return t}else return Array.isArray(e)?e.map(wn):e}Tr.clone=wn});var Wa=w(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});var td={Salesforce:!0};function rd(e){return!td[e]}Sn.default=rd});var En=w(xn=>{"use strict";var $a=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;xn.parse=function(e){var t=[1,5,6,7,11,12],n=$a.exec(e),r=0;if(!n)return new Date(e);for(var i=0,a;a=t[i];i++)n[a]=parseInt(n[a],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0,n[4]===" "?r=new Date().getTimezoneOffset():n[9]!=="Z"&&n[10]&&(r=n[11]*60+n[12],n[10]==="+"&&(r=0-r));var o=Date.UTC(n[1],n[2],n[3],n[5],n[6]+r,n[7],n[8]);return new Date(o)};xn.is=function(e,t){return typeof e!="string"||t&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:$a.test(e)}});var Ja=w(An=>{"use strict";var nd=/\d{13}/;An.is=function(e){return nd.test(e)};An.parse=function(e){return e=parseInt(e,10),new Date(e)}});var Xa=w(In=>{"use strict";var id=/\d{10}/;In.is=function(e){return id.test(e)};In.parse=function(e){var t=parseInt(e,10)*1e3;return new Date(t)}});var Fr=w((Zg,Qa)=>{"use strict";var Ya=En(),Za=Ja(),eo=Xa(),ad=Object.prototype,to=ad.toString;function od(e){return to.call(e)==="[object Date]"}function sd(e){return to.call(e)==="[object Number]"}Qa.exports=function(t){return od(t)?t:sd(t)?new Date(ud(t)):Ya.is(t)?Ya.parse(t):Za.is(t)?Za.parse(t):eo.is(t)?eo.parse(t):new Date(t)};function ud(e){return e<315576e5?e*1e3:e}});var io=w((eb,ro)=>{"use strict";var no=En();ro.exports=On;function On(e,t){return t===void 0&&(t=!0),e&&typeof e=="object"?ld(e,t):Array.isArray(e)?cd(e,t):no.is(e,t)?no.parse(e):e}function ld(e,t){return Object.keys(e).forEach(function(n){e[n]=On(e[n],t)}),e}function cd(e,t){return e.forEach(function(n,r){e[r]=On(n,t)}),e}});var Je=w(It=>{"use strict";var Yt=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(It,"__esModule",{value:!0});It.Facade=void 0;var fd=Yt(Ga()),Ot=Ka(),dd=Yt(Wa()),pd=Yt(Fr()),Pn=Yt(Xt()),hd=Yt(io());function _e(e,t){t=t||{},this.raw=Ot.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=Ot.clone(e)),"traverse"in t||(t.traverse=!0),"timestamp"in e?e.timestamp=pd.default(e.timestamp):e.timestamp=new Date,t.traverse&&hd.default(e),this.opts=t,this.obj=e}It.Facade=_e;var J=_e.prototype;J.proxy=function(e){var t=e.split(".");e=t.shift();var n=this[e]||this.obj[e];return n&&(typeof n=="function"&&(n=n.call(this)||{}),t.length===0?this.opts.clone?jn(n):n:(n=Pn.default(n,t.join(".")),this.opts.clone?jn(n):n))};J.field=function(e){var t=this.obj[e];return this.opts.clone?jn(t):t};_e.proxy=function(e){return function(){return this.proxy(e)}};_e.field=function(e){return function(){return this.field(e)}};_e.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var n=this.proxy(e);return n&&(n=[this.opts.clone?Ot.clone(n):n]),n||[]}};_e.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");if(Array.isArray(n))return n[0]}};J.json=function(){var e=this.opts.clone?Ot.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e};J.rawEvent=function(){return this.raw};J.options=function(e){var t=this.obj.options||this.obj.context||{},n=this.opts.clone?Ot.clone(t):t;if(!e)return n;if(!!this.enabled(e)){var r=this.integrations(),i=r[e]||Pn.default(r,e);return typeof i!="object"&&(i=Pn.default(this.options(),e)),typeof i=="object"?i:{}}};J.context=J.options;J.enabled=function(e){var t=this.proxy("options.providers.all");typeof t!="boolean"&&(t=this.proxy("options.all")),typeof t!="boolean"&&(t=this.proxy("integrations.all")),typeof t!="boolean"&&(t=!0);var n=t&&dd.default(e),r=this.integrations();if(r.providers&&r.providers.hasOwnProperty(e)&&(n=r.providers[e]),r.hasOwnProperty(e)){var i=r[e];typeof i=="boolean"?n=i:n=!0}return!!n};J.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};J.active=function(){var e=this.proxy("options.active");return e==null&&(e=!0),e};J.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};J.sessionId=J.anonymousId;J.groupId=_e.proxy("options.groupId");J.traits=function(e){var t=this.proxy("options.traits")||{},n=this.userId();e=e||{},n&&(t.id=n);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=this[r]==null?this.proxy("options.traits."+r):this[r]();if(i==null)continue;t[e[r]]=i,delete t[r]}return t};J.library=function(){var e=this.proxy("options.library");return e?typeof e=="string"?{name:e,version:null}:e:{name:"unknown",version:null}};J.device=function(){var e=this.proxy("context.device");(typeof e!="object"||e===null)&&(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e};J.userAgent=_e.proxy("context.userAgent");J.timezone=_e.proxy("context.timezone");J.timestamp=_e.field("timestamp");J.channel=_e.field("channel");J.ip=_e.proxy("context.ip");J.userId=_e.field("userId");fd.default(J);function jn(e){return Ot.clone(e)}});var Xe=w((rb,Cn)=>{typeof Object.create=="function"?Cn.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Cn.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}});var oo=w(Pt=>{"use strict";var vd=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.Alias=void 0;var md=vd(Xe()),ao=Je();function Ae(e,t){ao.Facade.call(this,e,t)}Pt.Alias=Ae;md.default(Ae,ao.Facade);Ae.prototype.action=function(){return"alias"};Ae.prototype.type=Ae.prototype.action;Ae.prototype.previousId=function(){return this.field("previousId")||this.field("from")};Ae.prototype.from=Ae.prototype.previousId;Ae.prototype.userId=function(){return this.field("userId")||this.field("to")};Ae.prototype.to=Ae.prototype.userId});var Zt=w(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var yd=/.+\@.+\..+/;function gd(e){return yd.test(e)}Tn.default=gd});var so=w(jt=>{"use strict";var Fn=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jt,"__esModule",{value:!0});jt.Group=void 0;var bd=Fn(Xe()),_d=Fn(Zt()),wd=Fn(Fr()),Ct=Je();function qn(e,t){Ct.Facade.call(this,e,t)}jt.Group=qn;bd.default(qn,Ct.Facade);var Ie=qn.prototype;Ie.action=function(){return"group"};Ie.type=Ie.action;Ie.groupId=Ct.Facade.field("groupId");Ie.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return wd.default(e)};Ie.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();if(_d.default(t))return t};Ie.traits=function(e){var t=this.properties(),n=this.groupId();e=e||{},n&&(t.id=n);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=this[r]==null?this.proxy("traits."+r):this[r]();if(i==null)continue;t[e[r]]=i,delete t[r]}return t};Ie.name=Ct.Facade.proxy("traits.name");Ie.industry=Ct.Facade.proxy("traits.industry");Ie.employees=Ct.Facade.proxy("traits.employees");Ie.properties=function(){return this.field("traits")||this.field("properties")||{}}});var Dn=w(Tt=>{"use strict";var qr=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.Identify=void 0;var Te=Je(),Ft=qr(Xt()),Sd=qr(Xe()),xd=qr(Zt()),uo=qr(Fr()),at=function(e){return e.trim()};function kn(e,t){Te.Facade.call(this,e,t)}Tt.Identify=kn;Sd.default(kn,Te.Facade);var X=kn.prototype;X.action=function(){return"identify"};X.type=X.action;X.traits=function(e){var t=this.field("traits")||{},n=this.userId();e=e||{},n&&(t.id=n);for(var r in e){var i=this[r]==null?this.proxy("traits."+r):this[r]();i!=null&&(t[e[r]]=i,r!==e[r]&&delete t[r])}return t};X.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();if(xd.default(t))return t};X.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return uo.default(e)};X.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return uo.default(e)};X.companyName=function(){return this.proxy("traits.company.name")};X.name=function(){var e=this.proxy("traits.name");if(typeof e=="string")return at(e);var t=this.firstName(),n=this.lastName();if(t&&n)return at(t+" "+n)};X.firstName=function(){var e=this.proxy("traits.firstName");if(typeof e=="string")return at(e);var t=this.proxy("traits.name");if(typeof t=="string")return at(t).split(" ")[0]};X.lastName=function(){var e=this.proxy("traits.lastName");if(typeof e=="string")return at(e);var t=this.proxy("traits.name");if(typeof t=="string"){var n=at(t).indexOf(" ");if(n!==-1)return at(t.substr(n+1))}};X.uid=function(){return this.userId()||this.username()||this.email()};X.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};X.age=function(){var e=this.birthday(),t=Ft.default(this.traits(),"age");if(t!=null)return t;if(e instanceof Date){var n=new Date;return n.getFullYear()-e.getFullYear()}};X.avatar=function(){var e=this.traits();return Ft.default(e,"avatar")||Ft.default(e,"photoUrl")||Ft.default(e,"avatarUrl")};X.position=function(){var e=this.traits();return Ft.default(e,"position")||Ft.default(e,"jobTitle")};X.username=Te.Facade.proxy("traits.username");X.website=Te.Facade.one("traits.website");X.websites=Te.Facade.multi("traits.website");X.phone=Te.Facade.one("traits.phone");X.phones=Te.Facade.multi("traits.phone");X.address=Te.Facade.proxy("traits.address");X.gender=Te.Facade.proxy("traits.gender");X.birthday=Te.Facade.proxy("traits.birthday")});var kr=w(qt=>{"use strict";var Nn=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0});qt.Track=void 0;var Ed=Nn(Xe()),ae=Je(),Ad=Dn(),Id=Nn(Zt()),lo=Nn(Xt());function Mn(e,t){ae.Facade.call(this,e,t)}qt.Track=Mn;Ed.default(Mn,ae.Facade);var M=Mn.prototype;M.action=function(){return"track"};M.type=M.action;M.event=ae.Facade.field("event");M.value=ae.Facade.proxy("properties.value");M.category=ae.Facade.proxy("properties.category");M.id=ae.Facade.proxy("properties.id");M.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};M.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};M.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};M.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};M.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};M.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};M.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};M.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};M.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};M.sku=ae.Facade.proxy("properties.sku");M.tax=ae.Facade.proxy("properties.tax");M.name=ae.Facade.proxy("properties.name");M.price=ae.Facade.proxy("properties.price");M.total=ae.Facade.proxy("properties.total");M.repeat=ae.Facade.proxy("properties.repeat");M.coupon=ae.Facade.proxy("properties.coupon");M.shipping=ae.Facade.proxy("properties.shipping");M.discount=ae.Facade.proxy("properties.discount");M.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};M.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};M.description=ae.Facade.proxy("properties.description");M.plan=ae.Facade.proxy("properties.plan");M.subtotal=function(){var e=lo.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var n=this.tax();n&&(t-=n),n=this.shipping(),n&&(t-=n),n=this.discount(),n&&(t+=n)}return t};M.products=function(){var e=this.properties(),t=lo.default(e,"products");return Array.isArray(t)?t.filter(function(n){return n!==null}):[]};M.quantity=function(){var e=this.obj.properties||{};return e.quantity||1};M.currency=function(){var e=this.obj.properties||{};return e.currency||"USD"};M.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};M.query=ae.Facade.proxy("options.query");M.properties=function(e){var t=this.field("properties")||{};e=e||{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=this[n]==null?this.proxy("properties."+n):this[n]();if(r==null)continue;t[e[n]]=r,delete t[n]}return t};M.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};M.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();if(Id.default(t))return t};M.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event(),n=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!e&&t&&t.match(n)&&(e=this.proxy("properties.total")),Od(e)};M.cents=function(){var e=this.revenue();return typeof e!="number"?this.value()||0:e*100};M.identify=function(){var e=this.json();return e.traits=this.traits(),new Ad.Identify(e,this.opts)};function Od(e){if(!!e){if(typeof e=="number")return e;if(typeof e=="string"&&(e=e.replace(/\$/g,""),e=parseFloat(e),!isNaN(e)))return e}}});var Ln=w(kt=>{"use strict";var co=kt&&kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kt,"__esModule",{value:!0});kt.Page=void 0;var Pd=co(Xe()),ot=Je(),jd=kr(),Cd=co(Zt());function Rn(e,t){ot.Facade.call(this,e,t)}kt.Page=Rn;Pd.default(Rn,ot.Facade);var ve=Rn.prototype;ve.action=function(){return"page"};ve.type=ve.action;ve.category=ot.Facade.field("category");ve.name=ot.Facade.field("name");ve.title=ot.Facade.proxy("properties.title");ve.path=ot.Facade.proxy("properties.path");ve.url=ot.Facade.proxy("properties.url");ve.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};ve.properties=function(e){var t=this.field("properties")||{},n=this.category(),r=this.name();e=e||{},n&&(t.category=n),r&&(t.name=r);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=this[i]==null?this.proxy("properties."+i):this[i]();if(a==null)continue;t[e[i]]=a,i!==e[i]&&delete t[i]}return t};ve.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();if(Cd.default(t))return t};ve.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t};ve.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"};ve.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new jd.Track(t,this.opts)}});var po=w(Dt=>{"use strict";var Td=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.Screen=void 0;var Fd=Td(Xe()),fo=Ln(),qd=kr();function st(e,t){fo.Page.call(this,e,t)}Dt.Screen=st;Fd.default(st,fo.Page);st.prototype.action=function(){return"screen"};st.prototype.type=st.prototype.action;st.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"};st.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new qd.Track(t,this.opts)}});var vo=w(Nt=>{"use strict";var kd=Nt&&Nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.Delete=void 0;var Dd=kd(Xe()),ho=Je();function Un(e,t){ho.Facade.call(this,e,t)}Nt.Delete=Un;Dd.default(Un,ho.Facade);Un.prototype.type=function(){return"delete"}});var Bn=w(ee=>{"use strict";var Dr=ee&&ee.__assign||function(){return Dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Dr.apply(this,arguments)};Object.defineProperty(ee,"__esModule",{value:!0});ee.Delete=ee.Screen=ee.Page=ee.Track=ee.Identify=ee.Group=ee.Alias=ee.Facade=void 0;var mo=Je();Object.defineProperty(ee,"Facade",{enumerable:!0,get:function(){return mo.Facade}});var yo=oo();Object.defineProperty(ee,"Alias",{enumerable:!0,get:function(){return yo.Alias}});var go=so();Object.defineProperty(ee,"Group",{enumerable:!0,get:function(){return go.Group}});var bo=Dn();Object.defineProperty(ee,"Identify",{enumerable:!0,get:function(){return bo.Identify}});var _o=kr();Object.defineProperty(ee,"Track",{enumerable:!0,get:function(){return _o.Track}});var wo=Ln();Object.defineProperty(ee,"Page",{enumerable:!0,get:function(){return wo.Page}});var So=po();Object.defineProperty(ee,"Screen",{enumerable:!0,get:function(){return So.Screen}});var xo=vo();Object.defineProperty(ee,"Delete",{enumerable:!0,get:function(){return xo.Delete}});ee.default=Dr(Dr({},mo.Facade),{Alias:yo.Alias,Group:go.Group,Identify:bo.Identify,Track:_o.Track,Page:wo.Page,Screen:So.Screen,Delete:xo.Delete})});var Nr=w(Nd=>{Ue(Nd);Be(Nd,{applyDestinationMiddleware:()=>Md,sourceMiddlewarePlugin:()=>Rd});function Md(e,t,n){return I(this,void 0,void 0,function(){function r(f,d){return I(this,void 0,void 0,function(){var g,h,m;return O(this,function(_){switch(_.label){case 0:return g=!1,h=null,[4,d({payload:Mt(f,{clone:!0,traverse:!1}),integration:e,next:function(S){g=!0,S===null&&(h=null),S&&(h=S.obj)}})];case 1:return _.sent(),!g&&h!==null&&(h=h,h.integrations=A(A({},f.integrations),(m={},m[e]=!1,m))),[2,h]}})})}var i,a,o,s,u;return O(this,function(f){switch(f.label){case 0:i=Mt(t,{clone:!0,traverse:!1}).rawEvent(),a=0,o=n,f.label=1;case 1:return a<o.length?(s=o[a],[4,r(i,s)]):[3,4];case 2:if(u=f.sent(),u===null)return[2,null];i=u,f.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})}function Rd(e,t){function n(r){return I(this,void 0,void 0,function(){var i;return O(this,function(a){switch(a.label){case 0:return i=!1,[4,e({payload:Mt(r.event,{clone:!0,traverse:!1}),integrations:t!=null?t:{},next:function(o){i=!0,o&&(r.event=o.obj)}})];case 1:if(a.sent(),!i)throw new pe({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,r]}})})}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(r){return Promise.resolve(r)},track:n,page:n,identify:n,alias:n,group:n}}});var Eo=w(Ld=>{Ue(Ld);Be(Ld,{queryString:()=>Ud});function Ud(e,t){var n=document.createElement("a");n.href=t;var r=n.search.slice(1),i=r.split("&").reduce(function(_,S){var E=S.split("="),b=E[0],y=E[1];return _[b]=Or(y),_},{}),a=[],o=i.ajs_uid,s=i.ajs_event,u=i.ajs_aid;if(u){var f=Array.isArray(i.ajs_aid)?i.ajs_aid[0]:i.ajs_aid;e.setAnonymousId(f)}if(o){var d=Array.isArray(i.ajs_uid)?i.ajs_uid[0]:i.ajs_uid,g=Vn("ajs_trait_",i);a.push(e.identify(d,g))}if(s){var h=Array.isArray(i.ajs_event)?i.ajs_event[0]:i.ajs_event,m=Vn("ajs_prop_",i);a.push(e.track(h,m))}return Promise.all(a)}});var Qo=w((I_,Jo)=>{for(var Xo=[],lt=0;lt<64;)Xo[lt]=0|4294967296*Math.sin(++lt%Math.PI);Jo.exports=function(e){var t,n,r,i=[t=1732584193,n=4023233417,~t,~n],a=[],o=unescape(encodeURI(e))+"\x80",s=o.length;for(e=--s/4+2|15,a[--e]=8*s;~s;)a[s>>2]|=o.charCodeAt(s)<<8*s--;for(lt=o=0;lt<e;lt+=16){for(s=i;o<64;s=[r=s[3],t+((r=s[0]+[t&n|~t&r,r&t|~r&n,t^n^r,n^(t|~r)][s=o>>4]+Xo[o]+~~a[lt|15&[o,5*o+1,3*o+5,7*o][s]])<<(s=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*s+o++%4])|r>>>-s),t,n])t=0|s[1],n=s[2];for(o=4;o;)i[--o]+=s[o]}for(e="";o<32;)e+=(i[o>>3]>>4*(1^o++)&15).toString(16);return e}});var Br=w((Jn,Xn)=>{(function(e,t){typeof Jn=="object"&&typeof Xn!="undefined"?Xn.exports=function(n,r,i,a,o){for(r=r.split?r.split("."):r,a=0;a<r.length;a++)n=n?n[r[a]]:o;return n===o?i:n}:typeof define=="function"&&define.amd?define(function(){return function(n,r,i,a,o){for(r=r.split?r.split("."):r,a=0;a<r.length;a++)n=n?n[r[a]]:o;return n===o?i:n}}):e.dlv=function(n,r,i,a,o){for(r=r.split?r.split("."):r,a=0;a<r.length;a++)n=n?n[r[a]]:o;return n===o?i:n}})(Jn)});var Qn=w((O_,Yo)=>{"use strict";var ap=Number.POSITIVE_INFINITY;Yo.exports=ap});var es=w((P_,Zo)=>{"use strict";Zo.exports=Number});var rs=w((j_,ts)=>{"use strict";var op=es();ts.exports=op});var Yn=w((C_,ns)=>{"use strict";var sp=rs(),up=sp.NEGATIVE_INFINITY;ns.exports=up});var Zn=w((T_,is)=>{"use strict";var lp=1023|0;is.exports=lp});var os=w((F_,as)=>{"use strict";var cp=1023|0;as.exports=cp});var us=w((q_,ss)=>{"use strict";var fp=-1023|0;ss.exports=fp});var cs=w((k_,ls)=>{"use strict";var dp=-1074|0;ls.exports=dp});var ds=w((D_,fs)=>{"use strict";function pp(e){return e!==e}fs.exports=pp});var ei=w((N_,ps)=>{"use strict";var hp=ds();ps.exports=hp});var vs=w((M_,hs)=>{"use strict";var vp=Qn(),mp=Yn();function yp(e){return e===vp||e===mp}hs.exports=yp});var ti=w((R_,ms)=>{"use strict";var gp=vs();ms.exports=gp});var gs=w((L_,ys)=>{"use strict";var bp=2147483648>>>0;ys.exports=bp});var _s=w((U_,bs)=>{"use strict";var _p=2147483647>>>0;bs.exports=_p});var Ss=w((B_,ws)=>{"use strict";var wp=typeof Object.defineProperty=="function"?Object.defineProperty:null;ws.exports=wp});var Es=w((V_,xs)=>{"use strict";var Sp=Ss();function xp(){try{return Sp({},"x",{}),!0}catch(e){return!1}}xs.exports=xp});var Is=w((z_,As)=>{"use strict";var Ep=Object.defineProperty;As.exports=Ep});var Ts=w((H_,Os)=>{"use strict";var Rt=Object.prototype,Ps=Rt.toString,js=Rt.__defineGetter__,Cs=Rt.__defineSetter__,Ap=Rt.__lookupGetter__,Ip=Rt.__lookupSetter__;function Op(e,t,n){var r,i,a,o;if(typeof e!="object"||e===null||Ps.call(e)==="[object Array]")throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if(typeof n!="object"||n===null||Ps.call(n)==="[object Array]")throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+n+"`.");if(i="value"in n,i&&(Ap.call(e,t)||Ip.call(e,t)?(r=e.__proto__,e.__proto__=Rt,delete e[t],e[t]=n.value,e.__proto__=r):e[t]=n.value),a="get"in n,o="set"in n,i&&(a||o))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return a&&js&&js.call(e,t,n.get),o&&Cs&&Cs.call(e,t,n.set),e}Os.exports=Op});var qs=w((G_,Fs)=>{"use strict";var Pp=Es(),jp=Is(),Cp=Ts(),ri;Pp()?ri=jp:ri=Cp;Fs.exports=ri});var Ds=w((K_,ks)=>{"use strict";var Tp=qs();function Fp(e,t,n){Tp(e,t,{configurable:!1,enumerable:!1,writable:!1,value:n})}ks.exports=Fp});var ni=w((W_,Ns)=>{"use strict";var qp=Ds();Ns.exports=qp});var Rs=w(($_,Ms)=>{"use strict";function kp(){return typeof Symbol=="function"&&typeof Symbol("foo")=="symbol"}Ms.exports=kp});var Us=w((J_,Ls)=>{"use strict";var Dp=Rs();Ls.exports=Dp});var Vs=w((X_,Bs)=>{"use strict";var Np=Us(),Mp=Np();function Rp(){return Mp&&typeof Symbol.toStringTag=="symbol"}Bs.exports=Rp});var Hs=w((Q_,zs)=>{"use strict";var Lp=Vs();zs.exports=Lp});var ii=w((Y_,Gs)=>{"use strict";var Up=Object.prototype.toString;Gs.exports=Up});var Ws=w((Z_,Ks)=>{"use strict";var Bp=ii();function Vp(e){return Bp.call(e)}Ks.exports=Vp});var Js=w((ew,$s)=>{"use strict";var zp=Object.prototype.hasOwnProperty;function Hp(e,t){return e==null?!1:zp.call(e,t)}$s.exports=Hp});var Qs=w((tw,Xs)=>{"use strict";var Gp=Js();Xs.exports=Gp});var Zs=w((rw,Ys)=>{"use strict";var Kp=typeof Symbol=="function"?Symbol.toStringTag:"";Ys.exports=Kp});var tu=w((nw,eu)=>{"use strict";var Wp=Qs(),nr=Zs(),ai=ii();function $p(e){var t,n,r;if(e==null)return ai.call(e);n=e[nr],t=Wp(e,nr);try{e[nr]=void 0}catch(i){return ai.call(e)}return r=ai.call(e),t?e[nr]=n:delete e[nr],r}eu.exports=$p});var ir=w((iw,ru)=>{"use strict";var Jp=Hs(),Xp=Ws(),Qp=tu(),oi;Jp()?oi=Qp:oi=Xp;ru.exports=oi});var iu=w((aw,nu)=>{"use strict";var Yp=ir(),Zp=typeof Uint32Array=="function";function eh(e){return Zp&&e instanceof Uint32Array||Yp(e)==="[object Uint32Array]"}nu.exports=eh});var ou=w((ow,au)=>{"use strict";var th=iu();au.exports=th});var uu=w((sw,su)=>{"use strict";var rh=4294967295;su.exports=rh});var cu=w((uw,lu)=>{"use strict";var nh=typeof Uint32Array=="function"?Uint32Array:null;lu.exports=nh});var pu=w((lw,fu)=>{"use strict";var ih=ou(),si=uu(),du=cu();function ah(){var e,t;if(typeof du!="function")return!1;try{t=[1,3.14,-3.14,si+1,si+2],t=new du(t),e=ih(t)&&t[0]===1&&t[1]===3&&t[2]===si-2&&t[3]===0&&t[4]===1}catch(n){e=!1}return e}fu.exports=ah});var vu=w((cw,hu)=>{"use strict";var oh=pu();hu.exports=oh});var yu=w((fw,mu)=>{"use strict";var sh=typeof Uint32Array=="function"?Uint32Array:void 0;mu.exports=sh});var bu=w((dw,gu)=>{"use strict";function uh(){throw new Error("not implemented")}gu.exports=uh});var Vr=w((pw,_u)=>{"use strict";var lh=vu(),ch=yu(),fh=bu(),ui;lh()?ui=ch:ui=fh;_u.exports=ui});var Su=w((hw,wu)=>{"use strict";var dh=ir(),ph=typeof Float64Array=="function";function hh(e){return ph&&e instanceof Float64Array||dh(e)==="[object Float64Array]"}wu.exports=hh});var Eu=w((vw,xu)=>{"use strict";var vh=Su();xu.exports=vh});var Iu=w((mw,Au)=>{"use strict";var mh=typeof Float64Array=="function"?Float64Array:null;Au.exports=mh});var ju=w((yw,Ou)=>{"use strict";var yh=Eu(),Pu=Iu();function gh(){var e,t;if(typeof Pu!="function")return!1;try{t=new Pu([1,3.14,-3.14,NaN]),e=yh(t)&&t[0]===1&&t[1]===3.14&&t[2]===-3.14&&t[3]!==t[3]}catch(n){e=!1}return e}Ou.exports=gh});var Tu=w((gw,Cu)=>{"use strict";var bh=ju();Cu.exports=bh});var qu=w((bw,Fu)=>{"use strict";var _h=typeof Float64Array=="function"?Float64Array:void 0;Fu.exports=_h});var Du=w((_w,ku)=>{"use strict";function wh(){throw new Error("not implemented")}ku.exports=wh});var zr=w((ww,Nu)=>{"use strict";var Sh=Tu(),xh=qu(),Eh=Du(),li;Sh()?li=xh:li=Eh;Nu.exports=li});var Ru=w((Sw,Mu)=>{"use strict";var Ah=ir(),Ih=typeof Uint8Array=="function";function Oh(e){return Ih&&e instanceof Uint8Array||Ah(e)==="[object Uint8Array]"}Mu.exports=Oh});var Uu=w((xw,Lu)=>{"use strict";var Ph=Ru();Lu.exports=Ph});var Vu=w((Ew,Bu)=>{"use strict";var jh=255|0;Bu.exports=jh});var Hu=w((Aw,zu)=>{"use strict";var Ch=typeof Uint8Array=="function"?Uint8Array:null;zu.exports=Ch});var Wu=w((Iw,Gu)=>{"use strict";var Th=Uu(),ci=Vu(),Ku=Hu();function Fh(){var e,t;if(typeof Ku!="function")return!1;try{t=[1,3.14,-3.14,ci+1,ci+2],t=new Ku(t),e=Th(t)&&t[0]===1&&t[1]===3&&t[2]===ci-2&&t[3]===0&&t[4]===1}catch(n){e=!1}return e}Gu.exports=Fh});var Ju=w((Ow,$u)=>{"use strict";var qh=Wu();$u.exports=qh});var Qu=w((Pw,Xu)=>{"use strict";var kh=typeof Uint8Array=="function"?Uint8Array:void 0;Xu.exports=kh});var Zu=w((jw,Yu)=>{"use strict";function Dh(){throw new Error("not implemented")}Yu.exports=Dh});var tl=w((Cw,el)=>{"use strict";var Nh=Ju(),Mh=Qu(),Rh=Zu(),fi;Nh()?fi=Mh:fi=Rh;el.exports=fi});var nl=w((Tw,rl)=>{"use strict";var Lh=ir(),Uh=typeof Uint16Array=="function";function Bh(e){return Uh&&e instanceof Uint16Array||Lh(e)==="[object Uint16Array]"}rl.exports=Bh});var al=w((Fw,il)=>{"use strict";var Vh=nl();il.exports=Vh});var sl=w((qw,ol)=>{"use strict";var zh=65535|0;ol.exports=zh});var ll=w((kw,ul)=>{"use strict";var Hh=typeof Uint16Array=="function"?Uint16Array:null;ul.exports=Hh});var dl=w((Dw,cl)=>{"use strict";var Gh=al(),di=sl(),fl=ll();function Kh(){var e,t;if(typeof fl!="function")return!1;try{t=[1,3.14,-3.14,di+1,di+2],t=new fl(t),e=Gh(t)&&t[0]===1&&t[1]===3&&t[2]===di-2&&t[3]===0&&t[4]===1}catch(n){e=!1}return e}cl.exports=Kh});var hl=w((Nw,pl)=>{"use strict";var Wh=dl();pl.exports=Wh});var ml=w((Mw,vl)=>{"use strict";var $h=typeof Uint16Array=="function"?Uint16Array:void 0;vl.exports=$h});var gl=w((Rw,yl)=>{"use strict";function Jh(){throw new Error("not implemented")}yl.exports=Jh});var _l=w((Lw,bl)=>{"use strict";var Xh=hl(),Qh=ml(),Yh=gl(),pi;Xh()?pi=Qh:pi=Yh;bl.exports=pi});var Sl=w((Uw,wl)=>{"use strict";var Zh=tl(),ev=_l(),tv={uint16:ev,uint8:Zh};wl.exports=tv});var Il=w((Bw,xl)=>{"use strict";var El=Sl(),Al;function rv(){var e,t;return e=new El.uint16(1),e[0]=4660,t=new El.uint8(e.buffer),t[0]===52}Al=rv();xl.exports=Al});var Hr=w((Vw,Ol)=>{"use strict";var nv=Il();Ol.exports=nv});var Cl=w((zw,Pl)=>{"use strict";var iv=Hr(),jl,hi,vi;iv===!0?(hi=1,vi=0):(hi=0,vi=1);jl={HIGH:hi,LOW:vi};Pl.exports=jl});var mi=w((Hw,Tl)=>{"use strict";var av=Vr(),ov=zr(),Fl=Cl(),ql=new ov(1),kl=new av(ql.buffer),sv=Fl.HIGH,uv=Fl.LOW;function lv(e,t,n,r){return ql[0]=e,t[r]=kl[sv],t[r+n]=kl[uv],t}Tl.exports=lv});var Nl=w((Gw,Dl)=>{"use strict";var cv=mi();function fv(e){return cv(e,[0>>>0,0>>>0],1,0)}Dl.exports=fv});var yi=w((Kw,Ml)=>{"use strict";var dv=ni(),Rl=Nl(),pv=mi();dv(Rl,"assign",pv);Ml.exports=Rl});var Ul=w((Ww,Ll)=>{"use strict";var hv=Hr(),gi;hv===!0?gi=1:gi=0;Ll.exports=gi});var zl=w(($w,Bl)=>{"use strict";var vv=Vr(),mv=zr(),yv=Ul(),Vl=new mv(1),gv=new vv(Vl.buffer);function bv(e){return Vl[0]=e,gv[yv]}Bl.exports=bv});var bi=w((Jw,Hl)=>{"use strict";var _v=zl();Hl.exports=_v});var Wl=w((Xw,Gl)=>{"use strict";var wv=Hr(),Kl,_i,wi;wv===!0?(_i=1,wi=0):(_i=0,wi=1);Kl={HIGH:_i,LOW:wi};Gl.exports=Kl});var Yl=w((Qw,$l)=>{"use strict";var Sv=Vr(),xv=zr(),Jl=Wl(),Xl=new xv(1),Ql=new Sv(Xl.buffer),Ev=Jl.HIGH,Av=Jl.LOW;function Iv(e,t){return Ql[Ev]=e,Ql[Av]=t,Xl[0]}$l.exports=Iv});var Si=w((Yw,Zl)=>{"use strict";var Ov=Yl();Zl.exports=Ov});var tc=w((Zw,ec)=>{"use strict";var Pv=gs(),jv=_s(),Cv=yi(),Tv=bi(),Fv=Si(),xi=[0,0];function qv(e,t){var n,r;return Cv.assign(e,xi,1,0),n=xi[0],n&=jv,r=Tv(t),r&=Pv,n|=r,Fv(n,xi[1])}ec.exports=qv});var nc=w((e1,rc)=>{"use strict";var kv=tc();rc.exports=kv});var ac=w((t1,ic)=>{"use strict";var Dv=22250738585072014e-324;ic.exports=Dv});var sc=w((r1,oc)=>{"use strict";function Nv(e){return Math.abs(e)}oc.exports=Nv});var lc=w((n1,uc)=>{"use strict";var Mv=sc();uc.exports=Mv});var Ei=w((i1,cc)=>{"use strict";var Rv=ac(),Lv=ti(),Uv=ei(),Bv=lc(),Vv=4503599627370496;function zv(e,t,n,r){return Uv(e)||Lv(e)?(t[r]=e,t[r+n]=0,t):e!==0&&Bv(e)<Rv?(t[r]=e*Vv,t[r+n]=-52,t):(t[r]=e,t[r+n]=0,t)}cc.exports=zv});var dc=w((a1,fc)=>{"use strict";var Hv=Ei();function Gv(e){return Hv(e,[0,0],1,0)}fc.exports=Gv});var vc=w((o1,pc)=>{"use strict";var Kv=ni(),hc=dc(),Wv=Ei();Kv(hc,"assign",Wv);pc.exports=hc});var yc=w((s1,mc)=>{"use strict";var $v=2146435072;mc.exports=$v});var bc=w((u1,gc)=>{"use strict";var Jv=bi(),Xv=yc(),Qv=Zn();function Yv(e){var t=Jv(e);return t=(t&Xv)>>>20,t-Qv|0}gc.exports=Yv});var wc=w((l1,_c)=>{"use strict";var Zv=bc();_c.exports=Zv});var xc=w((c1,Sc)=>{"use strict";var em=Qn(),tm=Yn(),rm=Zn(),nm=os(),im=us(),am=cs(),om=ei(),sm=ti(),um=nc(),lm=vc(),cm=wc(),fm=yi(),dm=Si(),pm=2220446049250313e-31,hm=2148532223>>>0,Ai=[0,0],Ii=[0,0];function vm(e,t){var n,r;return e===0||om(e)||sm(e)?e:(lm(Ai,e),e=Ai[0],t+=Ai[1],t+=cm(e),t<am?um(0,e):t>nm?e<0?tm:em:(t<=im?(t+=52,r=pm):r=1,fm(Ii,e),n=Ii[0],n&=hm,n|=t+rm<<20,r*dm(n,Ii[1])))}Sc.exports=vm});var Ac=w((f1,Ec)=>{"use strict";var mm=xc();Ec.exports=mm});var Oc=w(Ic=>{function ym(e,t,n){t.split&&(t=t.split("."));for(var r=0,i=t.length,a=e,o,s;r<i&&(s=t[r++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)a=a[s]=r===i?n:typeof(o=a[s])==typeof t?o:t[r]*0!=0||!!~(""+t[r]).indexOf(".")?{}:[]}Ic.dset=ym});var Pc=w(Lt=>{"use strict";var gm=Lt&&Lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.unset=void 0;var bm=gm(Br());function _m(e,t){if((0,bm.default)(e,t)){for(var n=t.split("."),r=n.pop();n.length&&n[n.length-1].slice(-1)==="\\";)r=n.pop().slice(0,-1)+"."+r;for(;n.length;)e=e[t=n.shift()];return delete e[r]}return!0}Lt.unset=_m});var Cc=w(ar=>{"use strict";var Oi=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ar,"__esModule",{value:!0});var wm=Oi(Qo()),ct=Oi(Br()),Sm=Oi(Ac()),or=Oc(),xm=Pc();function Pm(e,t){for(var n=e,r=0,i=t;r<i.length;r++){var a=i[r];switch(a.type){case"drop":return null;case"drop_properties":Em(n,a.config);break;case"allow_properties":Am(n,a.config);break;case"sample_event":if(Om(n,a.config))break;return null;case"map_properties":Im(n,a.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(a.type,'" is unsupported.'))}}return n}ar.default=Pm;function Em(e,t){for(var n in t.drop)if(!!t.drop.hasOwnProperty(n)){var r=n===""?e:(0,ct.default)(e,n);if(!(typeof r!="object"||r===null))for(var i=0,a=t.drop[n];i<a.length;i++){var o=a[i];delete r[o]}}}function Am(e,t){for(var n in t.allow)if(!!t.allow.hasOwnProperty(n)){var r=n===""?e:(0,ct.default)(e,n);if(!(typeof r!="object"||r===null))for(var i in r)!r.hasOwnProperty(i)||t.allow[n].indexOf(i)===-1&&delete r[i]}}function Im(e,t){var n=JSON.parse(JSON.stringify(e));for(var r in t.map)if(!!t.map.hasOwnProperty(r)){var i=t.map[r],a=r.split("."),o=void 0;if(a.length>1?(a.pop(),o=(0,ct.default)(n,a.join("."))):o=e,typeof o=="object"){if(i.copy){var s=(0,ct.default)(n,i.copy);s!==void 0&&(0,or.dset)(e,r,s)}else if(i.move){var u=(0,ct.default)(n,i.move);u!==void 0&&(0,or.dset)(e,r,u),(0,xm.unset)(e,i.move)}else i.hasOwnProperty("set")&&(0,or.dset)(e,r,i.set);if(i.to_string){var f=(0,ct.default)(e,r);if(typeof f=="string"||typeof f=="object"&&f!==null)continue;f!==void 0?(0,or.dset)(e,r,JSON.stringify(f)):(0,or.dset)(e,r,"undefined")}}}}function Om(e,t){return t.sample.percent<=0?!1:t.sample.percent>=1?!0:t.sample.path?Cm(e,t):jm(t.sample.percent)}function jm(e){return Math.random()<=e}function Cm(e,t){var n=(0,ct.default)(e,t.sample.path),r=(0,wm.default)(JSON.stringify(n)),i=-64,a=[];jc(r.slice(0,8),a);for(var o=0,s=0;s<64&&a[s]!==1;s++)o++;if(o!==0){var u=[];jc(r.slice(9,16),u),i-=o,a.splice(0,o),u.splice(64-o),a=a.concat(u)}return a[63]=a[63]===0?1:0,(0,Sm.default)(parseInt(a.join(""),2),i)<t.sample.percent}function jc(e,t){for(var n=0;n<8;n++)for(var r=e[n],i=128;i>=1;i/=2)r-i>=0?(r-=i,t.push(1)):t.push(0)}});var qc=w(sr=>{"use strict";var Tm=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});var Fm=Tm(Br());function Dm(e,t){if(!t)throw new Error("No matcher supplied!");switch(t.type){case"all":return qm();case"fql":return km(t.ir,e);default:throw new Error("Matcher of type ".concat(t.type," unsupported."))}}sr.default=Dm;function qm(){return!0}function km(e,t){if(!e)return!1;try{e=JSON.parse(e)}catch(r){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(e,'": ').concat(r))}var n=Ye(e,t);return typeof n!="boolean"?!1:n}function Ye(e,t){if(!Array.isArray(e))return fe(e,t)===!0;var n=e[0];switch(n){case"!":return!Ye(e[1],t);case"or":for(var r=1;r<e.length;r++)if(Ye(e[r],t))return!0;return!1;case"and":for(var r=1;r<e.length;r++)if(!Ye(e[r],t))return!1;return!0;case"=":case"!=":return Rm(fe(e[1],t),fe(e[2],t),n,t);case"<=":case"<":case">":case">=":return Mm(fe(e[1],t),fe(e[2],t),n,t);case"in":return Nm(fe(e[1],t),fe(e[2],t),t);case"contains":return Lm(fe(e[1],t),fe(e[2],t));case"match":return Um(fe(e[1],t),fe(e[2],t));case"lowercase":var i=fe(e[1],t);return typeof i!="string"?null:i.toLowerCase();case"typeof":return typeof fe(e[1],t);case"length":return Bm(fe(e[1],t));default:throw new Error("FQL IR could not evaluate for token: ".concat(n))}}function fe(e,t){return Array.isArray(e)?e:typeof e=="object"?e.value:(0,Fm.default)(t,e)}function Nm(e,t,n){return t.find(function(r){return fe(r,n)===e})!==void 0}function Mm(e,t,n,r){if(Gr(e)&&(e=Ye(e,r)),Gr(t)&&(t=Ye(t,r)),typeof e!="number"||typeof t!="number")return!1;switch(n){case"<=":return e<=t;case">=":return e>=t;case"<":return e<t;case">":return e>t;default:throw new Error("Invalid operator in compareNumbers: ".concat(n))}}function Rm(e,t,n,r){switch(Gr(e)&&(e=Ye(e,r)),Gr(t)&&(t=Ye(t,r)),typeof e=="object"&&typeof t=="object"&&(e=JSON.stringify(e),t=JSON.stringify(t)),n){case"=":return e===t;case"!=":return e!==t;default:throw new Error("Invalid operator in compareItems: ".concat(n))}}function Lm(e,t){return typeof e!="string"||typeof t!="string"?!1:e.indexOf(t)!==-1}function Um(e,t){return typeof e!="string"||typeof t!="string"?!1:Vm(t,e)}function Bm(e){return e===null?0:!Array.isArray(e)&&typeof e!="string"?NaN:e.length}function Gr(e){return Array.isArray(e)?(e[0]==="lowercase"||e[0]==="length"||e[0]==="typeof")&&e.length===2||(e[0]==="contains"||e[0]==="match")&&e.length===3:!1}function Vm(e,t){var n,r;e:for(;e.length>0;){var i=void 0,a=void 0;if(n=zm(e),i=n.star,a=n.chunk,e=n.pattern,i&&a==="")return!0;var o=Tc(a,t),s=o.t,u=o.ok,f=o.err;if(f)return!1;if(u&&(s.length===0||e.length>0)){t=s;continue}if(i)for(var d=0;d<t.length;d++){if(r=Tc(a,t.slice(d+1)),s=r.t,u=r.ok,f=r.err,u){if(e.length===0&&s.length>0)continue;t=s;continue e}if(f)return!1}return!1}return t.length===0}function zm(e){for(var t={star:!1,chunk:"",pattern:""};e.length>0&&e[0]==="*";)e=e.slice(1),t.star=!0;var n=!1,r;e:for(r=0;r<e.length;r++)switch(e[r]){case"\\":r+1<e.length&&r++;break;case"[":n=!0;break;case"]":n=!1;break;case"*":if(!n)break e}return t.chunk=e.slice(0,r),t.pattern=e.slice(r),t}function Tc(e,t){for(var n,r,i={t:"",ok:!1,err:!1};e.length>0;){if(t.length===0)return i;switch(e[0]){case"[":var a=t[0];t=t.slice(1),e=e.slice(1);var o=!0;e.length>0&&e[0]==="^"&&(o=!1,e=e.slice(1));for(var s=!1,u=0;;){if(e.length>0&&e[0]==="]"&&u>0){e=e.slice(1);break}var f="",d="",g=void 0;if(n=Fc(e),f=n.char,e=n.newChunk,g=n.err,g||(d=f,e[0]==="-"&&(r=Fc(e.slice(1)),d=r.char,e=r.newChunk,g=r.err,g)))return i;f<=a&&a<=d&&(s=!0),u++}if(s!==o)return i;break;case"?":t=t.slice(1),e=e.slice(1);break;case"\\":if(e=e.slice(1),e.length===0)return i.err=!0,i;default:if(e[0]!==t[0])return i;t=t.slice(1),e=e.slice(1)}}return i.t=t,i.ok=!0,i.err=!1,i}function Fc(e){var t={char:"",newChunk:"",err:!1};return e.length===0||e[0]==="-"||e[0]==="]"||e[0]==="\\"&&(e=e.slice(1),e.length===0)?(t.err=!0,t):(t.char=e[0],t.newChunk=e.slice(1),t.newChunk.length===0&&(t.err=!0),t)}});var kc=w(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});var Hm=function(){function e(t){this.rules=[],this.rules=t||[]}return e.prototype.getRulesByDestinationName=function(t){for(var n=[],r=0,i=this.rules;r<i.length;r++){var a=i[r];(a.destinationName===t||a.destinationName===void 0)&&n.push(a)}return n},e}();Pi.default=Hm});var Dc=w(qe=>{"use strict";var ji=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.Store=qe.matches=qe.transform=void 0;var Gm=Cc();Object.defineProperty(qe,"transform",{enumerable:!0,get:function(){return ji(Gm).default}});var Km=qc();Object.defineProperty(qe,"matches",{enumerable:!0,get:function(){return ji(Km).default}});var Wm=kc();Object.defineProperty(qe,"Store",{enumerable:!0,get:function(){return ji(Wm).default}})});var Nc=w($m=>{Ue($m);Be($m,{tsubMiddleware:()=>Jm});var Ut=et(Dc()),Jm=function(e){return function(t){var n=t.payload,r=t.integration,i=t.next,a=new Ut.Store(e),o=a.getRulesByDestinationName(r);o.forEach(function(s){for(var u=s.matchers,f=s.transformers,d=0;d<u.length;d++)if(Ut.matches(n.obj,u[d])&&(n.obj=Ut.transform(n.obj,f[d]),n.obj===null))return i(null)}),i(n)}}});var $c=w(Qm=>{Ue(Qm);Be(Qm,{LegacyDestination:()=>Wc,ajsDestinations:()=>Zm});var ke=et(Bn()),Kc=Nr();function Ym(e,t){return I(this,void 0,void 0,function(){var n,r=this;return O(this,function(i){switch(i.label){case 0:return n=[],Pe()?[2,t]:[4,Lr(function(){return t.length>0&&ln()},function(){return I(r,void 0,void 0,function(){var a,o,s;return O(this,function(u){switch(u.label){case 0:return a=t.pop(),a?[4,Ve(a,e)]:[2];case 1:return o=u.sent(),s=o instanceof Se,s||n.push(a),[2]}})})})];case 1:return i.sent(),n.map(function(a){return t.pushWithBackoff(a)}),[2,t]}})})}var Wc=function(){function e(t,n,r,i,a){r===void 0&&(r={}),this.options={},this.type="destination",this.middleware=[],this._ready=!1,this._initialized=!1,this.flushing=!1,this.name=t,this.version=n,this.settings=A({},r),this.disableAutoISOConversion=i.disableAutoISOConversion||!1,this.integrationSource=a,this.settings.type&&this.settings.type==="browser"&&delete this.settings.type,this.options=i,this.buffer=i.disableClientPersistence?new Ge(4,[]):new We(4,"dest-".concat(t)),this.scheduleFlush()}return e.prototype.isLoaded=function(){return this._ready},e.prototype.ready=function(){var t;return(t=this.onReady)!==null&&t!==void 0?t:Promise.resolve()},e.prototype.load=function(t,n){var r;return I(this,void 0,void 0,function(){var i,a,o=this;return O(this,function(s){switch(s.label){case 0:return this._ready||this.onReady!==void 0?[2]:(r=this.integrationSource)!==null&&r!==void 0?(a=r,[3,3]):[3,1];case 1:return[4,Bc(t,this.name,this.version,this.options.obfuscate)];case 2:a=s.sent(),s.label=3;case 3:i=a,this.integration=Uc(i,this.settings,n),this.onReady=new Promise(function(u){var f=function(){o._ready=!0,u(!0)};o.integration.once("ready",f)}),this.onInitialize=new Promise(function(u){var f=function(){o._initialized=!0,u(!0)};o.integration.on("initialize",f)});try{t.stats.increment("analytics_js.integration.invoke",1,["method:initialize","integration_name:".concat(this.name)]),this.integration.initialize()}catch(u){throw t.stats.increment("analytics_js.integration.invoke.error",1,["method:initialize","integration_name:".concat(this.name)]),u}return[2]}})})},e.prototype.unload=function(t,n){return Vc(this.name,this.version,this.options.obfuscate)},e.prototype.addMiddleware=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.middleware=(t=this.middleware).concat.apply(t,n)},e.prototype.shouldBuffer=function(t){return t.event.type!=="page"&&(Pe()||this._ready===!1||this._initialized===!1)},e.prototype.send=function(t,n,r){var i,a;return I(this,void 0,void 0,function(){var o,s,u,f,d,g;return O(this,function(h){switch(h.label){case 0:if(this.shouldBuffer(t))return this.buffer.push(t),this.scheduleFlush(),[2,t];if(o=(a=(i=this.options)===null||i===void 0?void 0:i.plan)===null||a===void 0?void 0:a.track,s=t.event.event,o&&s&&this.name!=="Segment.io"){if(u=o[s],Kr(o,u))t.updateEvent("integrations",A(A({},t.event.integrations),u==null?void 0:u.integrations));else return t.updateEvent("integrations",A(A({},t.event.integrations),{All:!1,"Segment.io":!0})),t.cancel(new pe({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,t];if((u==null?void 0:u.enabled)&&(u==null?void 0:u.integrations[this.name])===!1)return t.cancel(new pe({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,t]}return[4,(0,Kc.applyDestinationMiddleware)(this.name,t.event,this.middleware)];case 1:if(f=h.sent(),f===null)return[2,t];d=new n(f,{traverse:!this.disableAutoISOConversion}),t.stats.increment("analytics_js.integration.invoke",1,["method:".concat(r),"integration_name:".concat(this.name)]),h.label=2;case 2:return h.trys.push([2,5,,6]),this.integration?[4,this.integration.invoke.call(this.integration,r,d)]:[3,4];case 3:h.sent(),h.label=4;case 4:return[3,6];case 5:throw g=h.sent(),t.stats.increment("analytics_js.integration.invoke.error",1,["method:".concat(r),"integration_name:".concat(this.name)]),g;case 6:return[2,t]}})})},e.prototype.track=function(t){return I(this,void 0,void 0,function(){return O(this,function(n){return[2,this.send(t,ke.Track,"track")]})})},e.prototype.page=function(t){var n;return I(this,void 0,void 0,function(){var r=this;return O(this,function(i){return((n=this.integration)===null||n===void 0?void 0:n._assumesPageview)&&!this._initialized&&this.integration.initialize(),[2,this.onInitialize.then(function(){return r.send(t,ke.Page,"page")})]})})},e.prototype.identify=function(t){return I(this,void 0,void 0,function(){return O(this,function(n){return[2,this.send(t,ke.Identify,"identify")]})})},e.prototype.alias=function(t){return I(this,void 0,void 0,function(){return O(this,function(n){return[2,this.send(t,ke.Alias,"alias")]})})},e.prototype.group=function(t){return I(this,void 0,void 0,function(){return O(this,function(n){return[2,this.send(t,ke.Group,"group")]})})},e.prototype.scheduleFlush=function(){var t=this;this.flushing||setTimeout(function(){return I(t,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return this.flushing=!0,n=this,[4,Ym(this,this.buffer)];case 1:return n.buffer=r.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}})})},Math.random()*5e3)},e}();function Zm(e,t,n,r,i){var a,o;if(t===void 0&&(t={}),n===void 0&&(n={}),Sr())return[];e.plan&&(n=n!=null?n:{},n.plan=e.plan);var s=(o=(a=e.middlewareSettings)===null||a===void 0?void 0:a.routingRules)!==null&&o!==void 0?o:[],u=e.integrations,f=n.integrations,d=Rr(e,n!=null?n:{}),g=i==null?void 0:i.reduce(function(m,_){var S;return A(A({},m),(S={},S[Lc(_)]=_,S))},{}),h=new Set($($([],Object.keys(u).filter(function(m){return Hc(m,u[m])}),!0),Object.keys(g||{}).filter(function(m){return cn(u[m])||cn(f==null?void 0:f[m])}),!0));return Array.from(h).filter(function(m){return!Gc(m,t)}).map(function(m){var _=u[m],S=zc(_),E=new Wc(m,S,d[m],n,g==null?void 0:g[m]),b=s.filter(function(y){return y.destinationName===m});return b.length>0&&r&&E.addMiddleware(r),E})}});var Jc=w((Wr,Ci)=>{(function(e,t){typeof Wr=="object"&&typeof Ci=="object"?Ci.exports=t():typeof define=="function"&&define.amd?define([],t):typeof Wr=="object"?Wr.analyticsVideoPlugins=t():e.analyticsVideoPlugins=t()})(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(r,i,a){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:a})},n.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(a,o,function(s){return r[s]}.bind(null,o));return a},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";n.r(t);var r=typeof fetch=="function"?fetch.bind():function(i,a){return a=a||{},new Promise(function(o,s){var u=new XMLHttpRequest;for(var f in u.open(a.method||"get",i,!0),a.headers)u.setRequestHeader(f,a.headers[f]);function d(){var g,h=[],m=[],_={};return u.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(S,E,b){h.push(E=E.toLowerCase()),m.push([E,b]),g=_[E],_[E]=g?g+","+b:b}),{ok:(u.status/100|0)==2,status:u.status,statusText:u.statusText,url:u.responseURL,clone:d,text:function(){return Promise.resolve(u.responseText)},json:function(){return Promise.resolve(u.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([u.response]))},headers:{keys:function(){return h},entries:function(){return m},get:function(S){return _[S.toLowerCase()]},has:function(S){return S.toLowerCase()in _}}}}u.withCredentials=a.credentials=="include",u.onload=function(){o(d())},u.onerror=s,u.send(a.body)})};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function a(o,s){for(var u=0;u<s.length;u++){var f=s[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,s,u){return s&&a(o.prototype,s),u&&a(o,u),o}}(),i=function(){function a(o,s){(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a),this.pluginName=o}return r(a,[{key:"track",value:function(o,s){window.analytics.track(o,s,{integration:{name:this.pluginName}})}}]),a}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YouTubeAnalytics=t.VimeoAnalytics=void 0;var r=a(n(3)),i=a(n(4));function a(o){return o&&o.__esModule?o:{default:o}}t.VimeoAnalytics=r.default,t.YouTubeAnalytics=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function s(u,f){for(var d=0;d<f.length;d++){var g=f[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,f,d){return f&&s(u.prototype,f),d&&s(u,d),u}}(),i=a(n(0));function a(s){return s&&s.__esModule?s:{default:s}}var o=function(s){function u(f,d){(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u);var g=function(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?h:m}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,"VimeoAnalytics"));return g.authToken=d,g.player=f,g.metadata={content:{},playback:{videoPlayer:"Vimeo"}},g.mostRecentHeartbeat=0,g.isPaused=!1,g}return function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}(u,s),r(u,[{key:"initialize",value:function(){var f=this,d={loaded:this.retrieveMetadata,play:this.trackPlay,pause:this.trackPause,ended:this.trackEnded,timeupdate:this.trackHeartbeat};for(var g in d)this.registerHandler(g,d[g]);this.player.getVideoId().then(function(h){f.retrieveMetadata({id:h})}).catch(console.error)}},{key:"registerHandler",value:function(f,d){var g=this;this.player.on(f,function(h){g.updateMetadata(h),d.call(g,h)})}},{key:"trackPlay",value:function(){this.isPaused?(this.track("Video Playback Resumed",this.metadata.playback),this.isPaused=!1):(this.track("Video Playback Started",this.metadata.playback),this.track("Video Content Started",this.metadata.content))}},{key:"trackEnded",value:function(){this.track("Video Playback Completed",this.metadata.playback),this.track("Video Content Completed",this.metadata.content)}},{key:"trackHeartbeat",value:function(){var f=this.mostRecentHeartbeat,d=this.metadata.playback.position;d!==f&&d-f>=10&&(this.track("Video Content Playing",this.metadata.content),this.mostRecentHeartbeat=Math.floor(d))}},{key:"trackPause",value:function(){this.isPaused=!0,this.track("Video Playback Paused",this.metadata.playback)}},{key:"retrieveMetadata",value:function(f){var d=this;return new Promise(function(g,h){var m=f.id;(0,i.default)("https://api.vimeo.com/videos/"+m,{headers:{Authorization:"Bearer "+d.authToken}}).then(function(_){return _.ok?_.json():h(_)}).then(function(_){d.metadata.content.title=_.name,d.metadata.content.description=_.description,d.metadata.content.publisher=_.user.name,d.metadata.playback.position=0,d.metadata.playback.totalLength=_.duration}).catch(function(_){return console.error("Request to Vimeo API Failed with: ",_),h(_)})})}},{key:"updateMetadata",value:function(f){var d=this;return new Promise(function(g,h){d.player.getVolume().then(function(m){m&&(d.metadata.playback.sound=100*m),d.metadata.playback.position=f.seconds,g()}).catch(h)})}}]),u}(a(n(1)).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function f(d,g){for(var h=0;h<g.length;h++){var m=g[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,g,h){return g&&f(d.prototype,g),h&&f(d,h),d}}(),i=o(n(0)),a=o(n(1));function o(f){return f&&f.__esModule?f:{default:f}}var s=function(f){function d(g,h){(function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,d);var m=function(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?_:S}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,"YoutubeAnalytics"));return m.player=g,m.apiKey=h,m.playerLoaded=!1,m.playbackStarted=!1,m.contentStarted=!1,m.isPaused=!1,m.isBuffering=!1,m.isSeeking=!1,m.lastRecordedTime={timeReported:Date.now(),timeElapsed:0},m.metadata=[{playback:{video_player:"youtube"},content:{}}],m.playlistIndex=0,m}return function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}(d,f),r(d,[{key:"initialize",value:function(){window.segmentYoutubeOnStateChange=this.onPlayerStateChange.bind(this),window.segmentYoutubeOnReady=this.onPlayerReady.bind(this),this.player.addEventListener("onReady","segmentYoutubeOnReady"),this.player.addEventListener("onStateChange","segmentYoutubeOnStateChange")}},{key:"onPlayerReady",value:function(g){this.retrieveMetadata()}},{key:"onPlayerStateChange",value:function(g){var h=this.player.getCurrentTime();switch(this.metadata[this.playlistIndex]&&(this.metadata[this.playlistIndex].playback.position=this.metadata[this.playlistIndex].content.position=h,this.metadata[this.playlistIndex].playback.quality=this.player.getPlaybackQuality(),this.metadata[this.playlistIndex].playback.sound=this.player.isMuted()?0:this.player.getVolume()),g.data){case-1:if(this.playerLoaded)break;this.retrieveMetadata(),this.playerLoaded=!0;break;case YT.PlayerState.BUFFERING:this.handleBuffer();break;case YT.PlayerState.PLAYING:this.handlePlay();break;case YT.PlayerState.PAUSED:this.handlePause();break;case YT.PlayerState.ENDED:this.handleEnd()}this.lastRecordedTime={timeReported:Date.now(),timeElapsed:1e3*this.player.getCurrentTime()}}},{key:"retrieveMetadata",value:function(){var g=this;return new Promise(function(h,m){var _=g.player.getVideoData(),S=g.player.getPlaylist()||[_.video_id],E=S.join();(0,i.default)("https://www.googleapis.com/youtube/v3/videos?id="+E+"&part=snippet,contentDetails&key="+g.apiKey).then(function(b){if(!b.ok){var y=new Error("Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)");throw y.response=b,y}return b.json()}).then(function(b){g.metadata=[];for(var y=0,l=0;l<S.length;l++){var c=b.items[l];g.metadata.push({content:{title:c.snippet.title,description:c.snippet.description,keywords:c.snippet.tags,channel:c.snippet.channelTitle,airdate:c.snippet.publishedAt}}),y+=u(c.contentDetails.duration)}for(l=0;l<S.length;l++)g.metadata[l].playback={total_length:y,video_player:"youtube"};h()}).catch(function(b){g.metadata=S.map(function(y){return{playback:{video_player:"youtube"},content:{}}}),m(b)})})}},{key:"handleBuffer",value:function(){var g=this.determineSeek();this.playbackStarted||(this.playbackStarted=!0,this.track("Video Playback Started",this.metadata[this.playlistIndex].playback)),g&&!this.isSeeking&&(this.isSeeking=!0,this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback)),this.isSeeking&&(this.track("Video Playback Seek Completed",this.metadata[this.playlistIndex].playback),this.isSeeking=!1);var h=this.player.getPlaylist();h&&this.player.getCurrentTime()===0&&this.player.getPlaylistIndex()!==this.playlistIndex&&(this.contentStarted=!1,this.playlistIndex===h.length-1&&this.player.getPlaylistIndex()===0&&(this.track("Video Playback Completed",this.metadata[this.player.getPlaylistIndex()].playback),this.track("Video Playback Started",this.metadata[this.player.getPlaylistIndex()].playback))),this.track("Video Playback Buffer Started",this.metadata[this.playlistIndex].playback),this.isBuffering=!0}},{key:"handlePlay",value:function(){this.contentStarted||(this.playlistIndex=this.player.getPlaylistIndex(),this.playlistIndex===-1&&(this.playlistIndex=0),this.track("Video Content Started",this.metadata[this.playlistIndex].content),this.contentStarted=!0),this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused&&(this.track("Video Playback Resumed",this.metadata[this.playlistIndex].playback),this.isPaused=!1)}},{key:"handlePause",value:function(){var g=this.determineSeek();this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused||(g?(this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback),this.isSeeking=!0):(this.track("Video Playback Paused",this.metadata[this.playlistIndex].playback),this.isPaused=!0))}},{key:"handleEnd",value:function(){this.track("Video Content Completed",this.metadata[this.playlistIndex].content),this.contentStarted=!1;var g=this.player.getPlaylistIndex(),h=this.player.getPlaylist();(h&&g===h.length-1||g===-1)&&(this.track("Video Playback Completed",this.metadata[this.playlistIndex].playback),this.playbackStarted=!1)}},{key:"determineSeek",value:function(){var g=this.isPaused||this.isBuffering?0:Date.now()-this.lastRecordedTime.timeReported,h=1e3*this.player.getCurrentTime()-this.lastRecordedTime.timeElapsed;return Math.abs(g-h)>2e3}}]),d}(a.default);function u(f){var d=f.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return d=d.slice(1).map(function(g){if(g!=null)return g.replace(/\D/,"")}),3600*(parseInt(d[0])||0)+60*(parseInt(d[1])||0)+(parseInt(d[2])||0)}t.default=s}])})});var Xc=w(ey=>{Ue(ey);Be(ey,{loadLegacyVideoPlugins:()=>ty});function ty(e){return I(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return[4,Promise.resolve().then(()=>et(Jc()))];case 1:return t=n.sent(),e._plugins=t,[2]}})})}});var Qc=w(ry=>{Ue(ry);Be(ry,{schemaFilter:()=>iy});function ny(e,t){var n,r;if(!e||!Object.keys(e))return{};var i=e.integrations?Object.keys(e.integrations).filter(function(o){return e.integrations[o]===!1}):[],a=[];return((n=t.remotePlugins)!==null&&n!==void 0?n:[]).forEach(function(o){i.forEach(function(s){(o.name.includes(s)||s.includes(o.name))&&a.push(o.name)})}),((r=t.remotePlugins)!==null&&r!==void 0?r:[]).reduce(function(o,s){return s.settings.subscriptions&&a.includes(s.name)&&s.settings.subscriptions.forEach(function(u){return o["".concat(s.name," ").concat(u.partnerAction)]=!1}),o},{})}function iy(e,t){function n(r){var i=e,a=r.event.event;if(i&&a){var o=i[a];if(Kr(i,o)){var s=ny(o,t);r.updateEvent("integrations",A(A(A({},r.event.integrations),o==null?void 0:o.integrations),s))}else return r.updateEvent("integrations",A(A({},r.event.integrations),{All:!1,"Segment.io":!0})),r}return r}return{name:"Schema Filter",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:n,alias:n,track:n,identify:n,group:n}}});var Yc=w(ay=>{Ue(ay);Be(ay,{remoteMiddlewares:()=>oy});function oy(e,t,n){var r;return I(this,void 0,void 0,function(){var i,a,o,s,u,f=this;return O(this,function(d){switch(d.label){case 0:return Sr()?[2,[]]:(i=tr(),a=(r=t.enabledMiddleware)!==null&&r!==void 0?r:{},o=Object.entries(a).filter(function(g){var h=g[0],m=g[1];return m}).map(function(g){var h=g[0];return h}),s=o.map(function(g){return I(f,void 0,void 0,function(){var h,m,_,S;return O(this,function(E){switch(E.label){case 0:h=g.replace("@segment/",""),m=h,n&&(m=btoa(h).replace(/=/g,"")),_="".concat(i,"/middleware/").concat(m,"/latest/").concat(m,".js.gz"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,ze(_)];case 2:return E.sent(),[2,window["".concat(h,"Middleware")]];case 3:return S=E.sent(),e.log("error",S),e.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}),[4,Promise.all(s)]);case 1:return u=d.sent(),u=u.filter(Boolean),[2,u]}})})}});var vy={};Be(vy,{Event:()=>se,initialize:()=>af});function tn(e){this.message=e}tn.prototype=new Error,tn.prototype.name="InvalidCharacterError";var Di=typeof window!="undefined"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new tn("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,a=0,o="";r=t.charAt(a++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function bf(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(Di(n).replace(/(.)/g,function(r,i){var a=i.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}(t)}catch(n){return Di(t)}}function vr(e){this.message=e}function _f(e,t){if(typeof e!="string")throw new vr("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(bf(e.split(".")[n]))}catch(r){throw new vr("Invalid token specified: "+r.message)}}vr.prototype=new Error,vr.prototype.name="InvalidTokenError";var Ni=_f;function Mi(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map(function(r){r(n)}),(e.get("*")||[]).slice().map(function(r){r(t,n)})}}}var nf=et(Ri());var se;(function(e){e.READY="ready",e.CONNECTED="connected",e.DISCONNECTED="disconnected",e.CHANGED="changed",e.ERROR="error"})(se||(se={}));var Li={debug:!1,baseUrl:"https://config.ff.harness.io/api/1.0",eventUrl:"https://events.ff.harness.io/api/1.0",streamEnabled:!0,allAttributesPrivate:!1,privateAttributeNames:[]},vt=(e,...t)=>console.error(`[FF-SDK] ${e}`,...t),yr=30*1e3;var nn=class{constructor(){this.debug=!1}initialize(t){this.debug=t.debug!==void 0?t.debug:!1}},mt=nn;var an=class extends mt{initialize(t){super.initialize(t),this.debug&&console.log(`Initializing the NOOP provider with ${t.apiKey}`)}startExperiment(t,n,r){this.debug&&console.log(`Experiment for ${t} with variation ${n}`)}},Ui=an;var pa=et(da()),{__extends:W,__assign:A,__rest:ha,__decorate:jy,__param:Cy,__esDecorate:Ty,__runInitializers:Fy,__propKey:qy,__setFunctionName:ky,__metadata:Dy,__awaiter:I,__generator:O,__exportStar:Ny,__createBinding:My,__values:Ry,__read:Ly,__spread:Uy,__spreadArrays:By,__spreadArray:$,__await:Vy,__asyncGenerator:zy,__asyncDelegator:Hy,__asyncValues:Gy,__makeTemplateObject:Ky,__importStar:Wy,__importDefault:$y,__classPrivateFieldGet:Jy,__classPrivateFieldSet:Xy,__classPrivateFieldIn:Qy}=pa.default;function He(e){return typeof e=="string"}function wr(e){return typeof e=="number"}function tt(e){return typeof e=="function"}function Ee(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()==="object"}function wf(e){var t,n,r,i=(r=(n=(t=e.userId)!==null&&t!==void 0?t:e.anonymousId)!==null&&n!==void 0?n:e.groupId)!==null&&r!==void 0?r:e.previousId;return He(i)}var Ht=function(e){W(t,e);function t(n,r){var i=e.call(this,r)||this;return i.field=n,i}return t}(Error);function gt(e){var t,n=e&&e.event&&e.event.type,r=e.event;if(r===void 0)throw new Ht("event","Event is missing");if(!He(n))throw new Ht("event","Event is not a string");if(n==="track"&&!He(r.event))throw new Ht("event","Event is not a string");var i=(t=r.properties)!==null&&t!==void 0?t:r.traits;if(n!=="alias"&&!Ee(i))throw new Ht("properties","properties is not an object");if(!wf(r))throw new Ht("userId","Missing userId or anonymousId");return e}var va={name:"Event Validation",type:"before",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:gt,identify:gt,page:gt,alias:gt,group:gt,screen:gt};function ma(e,t,n,r){var i,a=[e,t,n,r],o=Ee(e)?e.event:e;if(!o||!He(o))throw new Error("Event missing");var s=Ee(e)?(i=e.properties)!==null&&i!==void 0?i:{}:Ee(t)?t:{},u={};tt(n)||(u=n!=null?n:{}),Ee(e)&&!tt(t)&&(u=t!=null?t:{});var f=a.find(tt);return[o,s,u,f]}function sn(e,t,n,r,i){var a,o,s=null,u=null,f=[e,t,n,r,i],d=f.filter(He);d[0]!==void 0&&d[1]!==void 0&&(s=d[0],u=d[1]),d.length===1&&(s=null,u=d[0]);var g=f.find(tt),h=f.filter(function(S){return u===null?Ee(S):Ee(S)||S===null}),m=(a=h[0])!==null&&a!==void 0?a:{},_=(o=h[1])!==null&&o!==void 0?o:{};return[s,u,m,_,g]}var un=function(e){return function(){for(var t,n,r,i,a,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=null;u=(r=(t=o.find(He))!==null&&t!==void 0?t:(n=o.find(wr))===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:e.id();var f=o.filter(function(m){return u===null?Ee(m):Ee(m)||m===null}),d=(i=f[0])!==null&&i!==void 0?i:{},g=(a=f[1])!==null&&a!==void 0?a:{},h=o.find(tt);return[u,d,g,h]}};function ya(e,t,n,r){wr(e)&&(e=e.toString()),wr(t)&&(t=t.toString());var i=[e,t,n,r],a=i.filter(He),o=a[0],s=o===void 0?e:o,u=a[1],f=u===void 0?null:u,d=i.filter(Ee)[0],g=d===void 0?{}:d,h=i.find(tt);return[s,f,g,h]}function Gt(){return typeof window!="undefined"}function Sr(){return!Gt()}function ln(){return Gt()?window.navigator.onLine:!0}function Pe(){return!ln()}var bt=function(){function e(){this.callbacks={}}return e.prototype.on=function(t,n){return this.callbacks[t]?this.callbacks[t].push(n):this.callbacks[t]=[n],this},e.prototype.once=function(t,n){var r=this,i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];r.off(t,i),n.apply(r,a)};return this.on(t,i),this},e.prototype.off=function(t,n){var r,i=(r=this.callbacks[t])!==null&&r!==void 0?r:[],a=i.filter(function(o){return o!==n});return this.callbacks[t]=a,this},e.prototype.emit=function(t){for(var n=this,r,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var o=(r=this.callbacks[t])!==null&&r!==void 0?r:[];return o.forEach(function(s){s.apply(n,i)}),this},e}();function Kt(e,t,n){t.split&&(t=t.split("."));for(var r=0,i=t.length,a=e,o,s;r<i&&(s=t[r++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)a=a[s]=r===i?n:typeof(o=a[s])==typeof t?o:t[r]*0!=0||!!~(""+t[r]).indexOf(".")?{}:[]}function cn(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()==="object"}function xr(e,t){return new Promise(function(n,r){var i=setTimeout(function(){r(Error("Promise timed out"))},t);e.then(function(a){return clearTimeout(i),n(a)}).catch(r)})}function Sf(e){return new Promise(function(t){return setTimeout(t,e)})}function ga(e,t,n){var r=function(){try{return Promise.resolve(t(e))}catch(i){return Promise.reject(i)}};return Sf(n).then(function(){return xr(r(),1e3)}).catch(function(i){e==null||e.log("warn","Callback Error",{error:i}),e==null||e.stats.increment("callback_error")}).then(function(){return e})}function ba(e){var t=Math.random()+1,n=e.minTimeout,r=n===void 0?500:n,i=e.factor,a=i===void 0?2:i,o=e.attempt,s=e.maxTimeout,u=s===void 0?Infinity:s;return Math.min(t*r*Math.pow(a,o),u)}var fn="onRemoveFromFuture",Ge=function(e){W(t,e);function t(n,r,i){var a=e.call(this)||this;return a.future=[],a.maxAttempts=n,a.queue=r,a.seen=i!=null?i:{},a}return t.prototype.push=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=r.map(function(o){var s=n.updateAttempts(o);return s>n.maxAttempts||n.includes(o)?!1:(n.queue.push(o),!0)});return this.queue=this.queue.sort(function(o,s){return n.getAttempts(o)-n.getAttempts(s)}),a},t.prototype.pushWithBackoff=function(n){var r=this;if(this.getAttempts(n)===0)return this.push(n)[0];var i=this.updateAttempts(n);if(i>this.maxAttempts||this.includes(n))return!1;var a=ba({attempt:i-1});return setTimeout(function(){r.queue.push(n),r.future=r.future.filter(function(o){return o.id!==n.id}),r.emit(fn)},a),this.future.push(n),!0},t.prototype.getAttempts=function(n){var r;return(r=this.seen[n.id])!==null&&r!==void 0?r:0},t.prototype.updateAttempts=function(n){return this.seen[n.id]=this.getAttempts(n)+1,this.getAttempts(n)},t.prototype.includes=function(n){return this.queue.includes(n)||this.future.includes(n)||Boolean(this.queue.find(function(r){return r.id===n.id}))||Boolean(this.future.find(function(r){return r.id===n.id}))},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(bt);var rt=256,Er=[],Ar;for(;rt--;)Er[rt]=(rt+256).toString(16).substring(1);function _t(){var e=0,t,n="";if(!Ar||rt+16>256){for(Ar=Array(e=256);e--;)Ar[e]=256*Math.random()|0;e=rt=0}for(;e<16;e++)t=Ar[rt+e],e==6?n+=Er[t&15|64]:e==8?n+=Er[t&63|128]:n+=Er[t],e&1&&e>1&&e<11&&(n+="-");return rt++,n}var _a=function(){function e(){this._logs=[]}return e.prototype.log=function(t,n,r){var i=new Date;this._logs.push({level:t,message:n,time:i,extras:r})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var t=this._logs.reduce(function(n,r){var i,a,o,s=A(A({},r),{json:JSON.stringify(r.extras,null," "),extras:r.extras});delete s.time;var u=(o=(a=r.time)===null||a===void 0?void 0:a.toISOString())!==null&&o!==void 0?o:"";return n[u]&&(u="".concat(u,"-").concat(Math.random())),A(A({},n),(i={},i[u]=s,i))},{});console.table?console.table(t):console.log(t)}else this.logs.forEach(function(n){var r=n.level,i=n.message,a=n.extras;r==="info"||r==="debug"?console.log(i,a!=null?a:""):console[r](i,a!=null?a:"")});this._logs=[]},e}();var xf=function(e){var t={gauge:"g",counter:"c"};return t[e]},dn=function(){function e(){this.metrics=[]}return e.prototype.increment=function(t,n,r){n===void 0&&(n=1),this.metrics.push({metric:t,value:n,tags:r!=null?r:[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(t,n,r){this.metrics.push({metric:t,value:n,tags:r!=null?r:[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var t=this.metrics.map(function(n){return A(A({},n),{tags:n.tags.join(",")})});console.table?console.table(t):console.log(t),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(t){return{m:t.metric,v:t.value,t:t.tags,k:xf(t.type),e:t.timestamp}})},e}();var wa=function(e){W(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.gauge=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r]},t.prototype.increment=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r]},t.prototype.flush=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r]},t.prototype.serialize=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return[]},t}(dn);var pe=function(){function e(t){var n,r,i;this.retry=(n=t.retry)!==null&&n!==void 0?n:!0,this.type=(r=t.type)!==null&&r!==void 0?r:"plugin Error",this.reason=(i=t.reason)!==null&&i!==void 0?i:""}return e}();var nt=function(){function e(t,n,r,i){n===void 0&&(n=_t()),r===void 0&&(r=new wa),i===void 0&&(i=new _a),this.attempts=0,this.event=t,this._id=n,this.logger=i,this.stats=r}return e.system=function(){},e.prototype.isSame=function(t){return t.id===this.id},e.prototype.cancel=function(t){throw t||new pe({reason:"Context Cancel"})},e.prototype.log=function(t,n,r){this.logger.log(t,n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(t,n){var r;if(t.split(".")[0]==="integrations"){var i=t.split(".")[1];if(((r=this.event.integrations)===null||r===void 0?void 0:r[i])===!1)return this.event}return Kt(this.event,t,n),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(t){this._failedDelivery=t},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}();function Sa(e,t){var n={};return e.forEach(function(r){var i,a=void 0;if(typeof t=="string"){var o=r[t];a=typeof o!="string"?JSON.stringify(o):o}else t instanceof Function&&(a=t(r));a!==void 0&&(n[a]=$($([],(i=n[a])!==null&&i!==void 0?i:[],!0),[r],!1))}),n}var xa=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"};var Ea=function(){var e,t,n=0;return{done:function(){return e},run:function(r){var i=r();return xa(i)&&(++n==1&&(e=new Promise(function(a){return t=a})),i.finally(function(){return--n==0&&t()})),i}}};function Ef(e){return I(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()];case 2:return t=n.sent(),[2,Promise.reject(t)];case 3:return[2]}})})}function Ve(e,t){e.log("debug","plugin",{plugin:t.name});var n=new Date().getTime(),r=t[e.event.type];if(r===void 0)return Promise.resolve(e);var i=Ef(function(){return r.apply(t,[e])}).then(function(a){var o=new Date().getTime()-n;return a.stats.gauge("plugin_time",o,["plugin:".concat(t.name)]),a}).catch(function(a){if(a instanceof pe&&a.type==="middleware_cancellation")throw a;return a instanceof pe?(e.log("warn",a.type,{plugin:t.name,error:a}),a):(e.log("error","plugin Error",{plugin:t.name,error:a}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),a)});return i}function Aa(e,t){return Ve(e,t).then(function(n){if(n instanceof nt)return n;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(n)})}function Ia(){return typeof window!="undefined"}function Af(){return Ia()?window.navigator.onLine:!0}function Oa(){return!Af()}var Pa=function(e){W(t,e);function t(n){var r=e.call(this)||this;return r.criticalTasks=Ea(),r.plugins=[],r.failedInitializations=[],r.flushing=!1,r.queue=n,r.queue.on(fn,function(){r.scheduleFlush(0)}),r}return t.prototype.register=function(n,r,i){return I(this,void 0,void 0,function(){var a=this;return O(this,function(o){switch(o.label){case 0:return[4,Promise.resolve(r.load(n,i)).then(function(){a.plugins.push(r)}).catch(function(s){if(r.type==="destination"){a.failedInitializations.push(r.name),console.warn(r.name,s),n.log("warn","Failed to load destination",{plugin:r.name,error:s});return}throw s})];case 1:return o.sent(),[2]}})})},t.prototype.deregister=function(n,r,i){return I(this,void 0,void 0,function(){var a;return O(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),r.unload?[4,Promise.resolve(r.unload(n,i))]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==r.name}),[3,4];case 3:return a=o.sent(),n.log("warn","Failed to unload destination",{plugin:r.name,error:a}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(n){return I(this,void 0,void 0,function(){var r;return O(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.push(n),r=this.subscribeToDelivery(n),this.scheduleFlush(0),[2,r]})})},t.prototype.subscribeToDelivery=function(n){return I(this,void 0,void 0,function(){var r=this;return O(this,function(i){return[2,new Promise(function(a){var o=function(s,u){s.isSame(n)&&(r.off("flush",o),a(s))};r.on("flush",o)})]})})},t.prototype.dispatchSingle=function(n){return I(this,void 0,void 0,function(){var r=this;return O(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.updateAttempts(n),n.attempts=1,[2,this.deliver(n).catch(function(a){var o=r.enqueuRetry(a,n);return o?r.subscribeToDelivery(n):(n.setFailedDelivery({reason:a}),n)})]})})},t.prototype.isEmpty=function(){return this.queue.length===0},t.prototype.scheduleFlush=function(n){var r=this;n===void 0&&(n=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){r.flush().then(function(){setTimeout(function(){r.flushing=!1,r.queue.length&&r.scheduleFlush(0)},0)})},n))},t.prototype.deliver=function(n){return I(this,void 0,void 0,function(){var r,i,a,o;return O(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),r=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(n)];case 3:return n=s.sent(),i=Date.now()-r,this.emit("delivery_success",n),n.stats.gauge("delivered",i),n.log("debug","Delivered",n.event),[2,n];case 4:throw a=s.sent(),o=a,n.log("error","Failed to deliver",o),this.emit("delivery_failure",n,o),n.stats.increment("delivery_failed"),a;case 5:return[2]}})})},t.prototype.enqueuRetry=function(n,r){var i=!(n instanceof pe)||n.retry;return i?this.queue.pushWithBackoff(r):!1},t.prototype.flush=function(){return I(this,void 0,void 0,function(){var n,r,i;return O(this,function(a){switch(a.label){case 0:if(this.queue.length===0||Oa())return[2,[]];if(n=this.queue.pop(),!n)return[2,[]];n.attempts=this.queue.getAttempts(n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.deliver(n)];case 2:return n=a.sent(),this.emit("flush",n,!0),[3,4];case 3:return r=a.sent(),i=this.enqueuRetry(r,n),i||(n.setFailedDelivery({reason:r}),this.emit("flush",n,!1)),[2,[]];case 4:return[2,[n]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(n){var r=this.plugins.filter(function(m){var _,S,E;if(m.type!=="destination"&&m.name!=="Segment.io")return!0;var b=void 0;return(_=m.alternativeNames)===null||_===void 0||_.forEach(function(y){n[y]!==void 0&&(b=n[y])}),(E=(S=n[m.name])!==null&&S!==void 0?S:b)!==null&&E!==void 0?E:(m.name==="Segment.io"?!0:n.All)!==!1}),i=Sa(r,"type"),a=i.before,o=a===void 0?[]:a,s=i.enrichment,u=s===void 0?[]:s,f=i.destination,d=f===void 0?[]:f,g=i.after,h=g===void 0?[]:g;return{before:o,enrichment:u,destinations:d,after:h}},t.prototype.flushOne=function(n){var r,i;return I(this,void 0,void 0,function(){var a,o,s,u,f,d,g,h,m,_,g,S,E,b,y;return O(this,function(l){switch(l.label){case 0:if(!this.isReady())throw new Error("Not ready");n.attempts>1&&this.emit("delivery_retry",n),a=this.availableExtensions((r=n.event.integrations)!==null&&r!==void 0?r:{}),o=a.before,s=a.enrichment,u=0,f=o,l.label=1;case 1:return u<f.length?(d=f[u],[4,Aa(n,d)]):[3,4];case 2:g=l.sent(),g instanceof nt&&(n=g),this.emit("message_enriched",n,d),l.label=3;case 3:return u++,[3,1];case 4:h=0,m=s,l.label=5;case 5:return h<m.length?(_=m[h],[4,Ve(n,_)]):[3,8];case 6:g=l.sent(),g instanceof nt&&(n=g),this.emit("message_enriched",n,_),l.label=7;case 7:return h++,[3,5];case 8:return S=this.availableExtensions((i=n.event.integrations)!==null&&i!==void 0?i:{}),E=S.destinations,b=S.after,[4,new Promise(function(c,v){setTimeout(function(){var p=E.map(function(R){return Ve(n,R)});Promise.all(p).then(c).catch(v)},0)})];case 9:return l.sent(),n.stats.increment("message_delivered"),this.emit("message_delivered",n),y=b.map(function(c){return Ve(n,c)}),[4,Promise.all(y)];case 10:return l.sent(),[2,n]}})})},t}(bt);var If=function(e,t){var n=Date.now()-e;return Math.max((t!=null?t:300)-n,0)};function ja(e,t,n,r){return I(this,void 0,void 0,function(){var i,a;return O(this,function(o){switch(o.label){case 0:return n.emit("dispatch_start",e),i=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return a=o.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:a=o.sent(),o.label=4;case 4:return(r==null?void 0:r.callback)?[4,ga(a,r.callback,If(i,r.timeout))]:[3,6];case 5:a=o.sent(),o.label=6;case 6:return(r==null?void 0:r.debug)&&a.flush(),[2,a]}})})}function Ca(e,t){return t=t||{},new Promise(function(n,r){var i=new XMLHttpRequest,a=[],o=[],s={},u=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return a},entries:function(){return o},get:function(d){return s[d.toLowerCase()]},has:function(d){return d.toLowerCase()in s}}}};for(var f in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(d,g,h){a.push(g=g.toLowerCase()),o.push([g,h]),s[g]=s[g]?s[g]+","+h:h}),n(u())},i.onerror=r,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(f,t.headers[f]);i.send(t.body||null)})}var wt=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:null};var Ke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wt();return(n&&n.fetch||Ca).apply(void 0,e)};var je="1.49.2";function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Of={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function pn(e,t){function n(i,a,o){if(typeof document!="undefined"){o=Ir({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in o)!o[u]||(s+="; "+u,o[u]!==!0&&(s+="="+o[u].split(";")[0]));return document.cookie=i+"="+e.write(a,i)+s}}function r(i){if(!(typeof document=="undefined"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],o={},s=0;s<a.length;s++){var u=a[s].split("="),f=u.slice(1).join("=");try{var d=decodeURIComponent(u[0]);if(o[d]=e.read(f,d),i===d)break}catch(g){}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,a){n(i,"",Ir({},a,{expires:-1}))},withAttributes:function(i){return pn(this.converter,Ir({},this.attributes,i))},withConverter:function(i){return pn(Ir({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Pf=pn(Of,{path:"/"}),he=Pf;function Or(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}function jf(e){var t=e.hostname,n=t.split("."),r=n[n.length-1],i=[];if(n.length===4&&parseInt(r,10)>0||n.length<=1)return i;for(var a=n.length-2;a>=0;--a)i.push(n.slice(a).join("."));return i}function Cf(e){try{return new URL(e)}catch(t){return}}function Pr(e){var t=Cf(e);if(!!t)for(var n=jf(t),r=0;r<n.length;++r){var i="__tld__",a=n[r],o={domain:"."+a};try{if(he.set(i,"1",o),he.get(i))return he.remove(i,o),a}catch(s){return}}}function St(e){for(var t=e.constructor.prototype,n=0,r=Object.getOwnPropertyNames(t);n<r.length;n++){var i=r[n];if(i!=="constructor"){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);!!a&&typeof a.value=="function"&&(e[i]=e[i].bind(e))}}return e}var xt={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},hn=function(){function e(){this.cache={}}return e.prototype.get=function(t){return this.cache[t]},e.prototype.set=function(t,n){this.cache[t]=n},e.prototype.remove=function(t){delete this.cache[t]},Object.defineProperty(e.prototype,"type",{get:function(){return"memory"},enumerable:!1,configurable:!0}),e}(),Tf=365,Ta=function(e){W(t,e);function t(n){n===void 0&&(n=t.defaults);var r=e.call(this)||this;return r.options=A(A({},t.defaults),n),r}return t.available=function(){var n=window.navigator.cookieEnabled;return n||(he.set("ajs:cookies","test"),n=document.cookie.includes("ajs:cookies"),he.remove("ajs:cookies")),n},Object.defineProperty(t,"defaults",{get:function(){return{maxage:Tf,domain:Pr(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(n){try{var r=he.get(n);if(!r)return null;try{return JSON.parse(r)}catch(i){return r}}catch(i){return null}},t.prototype.set=function(n,r){typeof r=="string"?he.set(n,r,this.opts()):r===null?he.remove(n,this.opts()):he.set(n,JSON.stringify(r),this.opts())},t.prototype.remove=function(n){return he.remove(n,this.opts())},Object.defineProperty(t.prototype,"type",{get:function(){return"cookie"},enumerable:!1,configurable:!0}),t}(hn);var vn=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},Fa=function(e){W(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.available=function(){var n="test";try{return localStorage.setItem(n,n),localStorage.removeItem(n),!0}catch(r){return!1}},t.prototype.get=function(n){try{var r=localStorage.getItem(n);if(r===null)return null;try{return JSON.parse(r)}catch(i){return r}}catch(i){return vn(n,"unavailable"),null}},t.prototype.set=function(n,r){try{localStorage.setItem(n,JSON.stringify(r))}catch(i){vn(n,"full")}},t.prototype.remove=function(n){try{return localStorage.removeItem(n)}catch(r){vn(n,"unavailable")}},Object.defineProperty(t.prototype,"type",{get:function(){return"localStorage"},enumerable:!1,configurable:!0}),t}(hn);var it=function(){function e(t,n){this.storageOptions=n,this.enabledStores=t}return e.prototype.getStores=function(t){var n=this,r=[];return this.enabledStores.filter(function(i){return!t||(t==null?void 0:t.includes(i))}).forEach(function(i){var a=n.storageOptions[i];a!==void 0&&r.push(a)}),r},e.prototype.getAndSync=function(t,n){var r=this.get(t,n),i=typeof r=="number"?r.toString():r;return this.set(t,i,n),i},e.prototype.get=function(t,n){for(var r=null,i=0,a=this.getStores(n);i<a.length;i++){var o=a[i];if(r=o.get(t),r)return r}return null},e.prototype.set=function(t,n,r){for(var i=0,a=this.getStores(r);i<a.length;i++){var o=a[i];o.set(t,n)}},e.prototype.clear=function(t,n){for(var r=0,i=this.getStores(n);r<i.length;r++){var a=i[r];a.remove(t)}},e}();function Wt(e){return{cookie:Ta.available()?new Ta(e):void 0,localStorage:Fa.available()?new Fa:void 0,memory:new hn}}var mn=function(){function e(t,n){t===void 0&&(t=xt);var r=this,i,a,o,s;this.options={},this.id=function(m){if(r.options.disable)return null;var _=r.identityStore.getAndSync(r.idKey);if(m!==void 0){r.identityStore.set(r.idKey,m);var S=m!==_&&_!==null&&m!==null;S&&r.anonymousId(null)}var E=r.identityStore.getAndSync(r.idKey);if(E)return E;var b=r.legacyUserStore.get(xt.cookie.oldKey);return b?typeof b=="object"?b.id:b:null},this.anonymousId=function(m){var _,S;if(r.options.disable)return null;if(m===void 0){var E=(_=r.identityStore.getAndSync(r.anonKey))!==null&&_!==void 0?_:(S=r.legacySIO())===null||S===void 0?void 0:S[0];if(E)return E}return m===null?(r.identityStore.set(r.anonKey,null),r.identityStore.getAndSync(r.anonKey)):(r.identityStore.set(r.anonKey,m!=null?m:_t()),r.identityStore.getAndSync(r.anonKey))},this.traits=function(m){var _;if(!r.options.disable)return m===null&&(m={}),m&&r.traitsStore.set(r.traitsKey,m!=null?m:{}),(_=r.traitsStore.get(r.traitsKey))!==null&&_!==void 0?_:{}},this.options=t,this.cookieOptions=n,this.idKey=(a=(i=t.cookie)===null||i===void 0?void 0:i.key)!==null&&a!==void 0?a:xt.cookie.key,this.traitsKey=(s=(o=t.localStorage)===null||o===void 0?void 0:o.key)!==null&&s!==void 0?s:xt.localStorage.key,this.anonKey="ajs_anonymous_id";var u=t.disable===!0,f=t.persist!==!1,d=u?[]:f?["localStorage","cookie","memory"]:["memory"],g=Wt(n);t.localStorageFallbackDisabled&&(d=d.filter(function(m){return m!=="localStorage"})),this.identityStore=new it(d,g),this.legacyUserStore=new it(d.filter(function(m){return m!=="localStorage"&&m!=="memory"}),g),this.traitsStore=new it(d.filter(function(m){return m!=="cookie"}),g);var h=this.legacyUserStore.get(xt.cookie.oldKey);h&&typeof h=="object"&&(h.id&&this.id(h.id),h.traits&&this.traits(h.traits)),St(this)}return e.prototype.legacySIO=function(){var t=this.legacyUserStore.get("_sio");if(!t)return null;var n=t.split("----"),r=n[0],i=n[1];return[r,i]},e.prototype.identify=function(t,n){if(!this.options.disable){n=n!=null?n:{};var r=this.id();(r===null||r===t)&&(n=A(A({},this.traits()),n)),t&&this.id(t),this.traits(n)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.defaults=xt,e}();var Ff={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},qa=function(e){W(t,e);function t(n,r){n===void 0&&(n=Ff);var i=e.call(this,n,r)||this;return i.anonymousId=function(a){},St(i),i}return t}(mn);var $t;function qf(){if($t)return $t;var e=Pr(window.location.href);return $t={expires:31536e6,secure:!1,path:"/"},e&&($t.domain=e),$t}var kf="npm";function yn(){return kf}function Df(){var e=he.get("_ga");if(e&&e.startsWith("amp"))return e}function Nf(e){return e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&"),e.split("&").reduce(function(t,n){var r=n.split("="),i=r[0],a=r[1],o=a===void 0?"":a;if(i.includes("utm_")&&i.length>4){var s=i.substr(4);s==="campaign"&&(s="name"),t[s]=Or(o)}return t},{})}function Mf(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&");for(var n=e.split("&"),r=0,i=n;r<i.length;r++){var a=i[r],o=a.split("="),s=o[0],u=o[1];if(t[s])return{id:u,type:t[s]}}}function Rf(e,t,n){var r=new it(n?[]:["cookie"],Wt(qf())),i=r.get("s:context.referrer"),a=Mf(e);a=a!=null?a:i,!!a&&(t&&(t.referrer=A(A({},t.referrer),a)),r.set("s:context.referrer",a))}function ka(e,t,n,r){var i,a,o,s,u=e.user(),f=window.location.search;t.context=(a=(i=t.context)!==null&&i!==void 0?i:t.options)!==null&&a!==void 0?a:{};var d=t.context;delete t.options,t.writeKey=n==null?void 0:n.apiKey,d.userAgent=window.navigator.userAgent;var g=navigator.userLanguage||navigator.language;if(typeof d.locale=="undefined"&&typeof g!="undefined"&&(d.locale=g),!d.library){var h=yn();h==="web"?d.library={name:"analytics.js",version:"next-".concat(je)}:d.library={name:"analytics.js",version:"npm:next-".concat(je)}}f&&!d.campaign&&(d.campaign=Nf(f)),Rf(f,d,(o=e.options.disableClientPersistence)!==null&&o!==void 0?o:!1),t.userId=t.userId||u.id(),t.anonymousId=t.anonymousId||u.anonymousId(),t.sentAt=new Date;var m=e.queue.failedInitializations||[];m.length>0&&(t._metadata={failedInitializations:m});var _=[],S=[];for(var E in r){var b=r[E];E==="Segment.io"&&_.push(E),b.bundlingStatus==="bundled"&&_.push(E),b.bundlingStatus==="unbundled"&&S.push(E)}for(var y=0,l=(n==null?void 0:n.unbundledIntegrations)||[];y<l.length;y++){var c=l[y];S.includes(c)||S.push(c)}var v=(s=n==null?void 0:n.maybeBundledConfigIds)!==null&&s!==void 0?s:{},p=[];_.sort().forEach(function(H){var U;((U=v[H])!==null&&U!==void 0?U:[]).forEach(function(Z){p.push(Z)})}),(n==null?void 0:n.addBundledMetadata)!==!1&&(t._metadata=A(A({},t._metadata),{bundled:_.sort(),unbundled:S.sort(),bundledIds:p}));var R=Df();return R&&(d.amp={id:R}),t}var Lf=function(e,t,n){var r=t.reduce(function(i,a){var o=a.split(":"),s=o[0],u=o[1];return i[s]=u,i},{});return{type:"Counter",metric:e,value:1,tags:A(A({},r),{library:"analytics.js",library_version:n==="web"?"next-".concat(je):"npm:next-".concat(je)})}};function gn(e){console.error("Error sending segment performance metrics",e)}var Da=function(){function e(t){var n=this,r,i,a,o;if(this.host=(r=t==null?void 0:t.host)!==null&&r!==void 0?r:"api.segment.io/v1",this.sampleRate=(i=t==null?void 0:t.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(a=t==null?void 0:t.flushTimer)!==null&&a!==void 0?a:30*1e3,this.maxQueueSize=(o=t==null?void 0:t.maxQueueSize)!==null&&o!==void 0?o:20,this.queue=[],this.sampleRate>0){var s=!1,u=function(){s||(s=!0,n.flush().catch(gn),s=!1,setTimeout(u,n.flushTimer))};u()}}return e.prototype.increment=function(t,n){if(!!t.includes("analytics_js.")&&n.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var r=Lf(t,n,yn());this.queue.push(r),t.includes("error")&&this.flush().catch(gn)}},e.prototype.flush=function(){return I(this,void 0,void 0,function(){var t=this;return O(this,function(n){switch(n.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(r){gn(r),t.sampleRate=0})];case 1:return n.sent(),[2]}})})},e.prototype.send=function(){return I(this,void 0,void 0,function(){var t,n,r;return O(this,function(i){return t={series:this.queue},this.queue=[],n={"Content-Type":"text/plain"},r="https://".concat(this.host,"/m"),[2,Ke(r,{headers:n,body:JSON.stringify(t),method:"POST"})]})})},e}();var jr,Cr=function(e){W(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.initRemoteMetrics=function(n){jr=new Da(n)},t.prototype.increment=function(n,r,i){e.prototype.increment.call(this,n,r,i),jr==null||jr.increment(n,i!=null?i:[])},t}(dn);var Se=function(e){W(t,e);function t(n,r){return e.call(this,n,r,new Cr)||this}return t.system=function(){return new this({type:"track",event:"system"})},t}(nt);var La=et(Ra()),Ua=function(){function e(t){this.user=t}return e.prototype.track=function(t,n,r,i){return this.normalize(A(A({},this.baseEvent()),{event:t,type:"track",properties:n,options:A({},r),integrations:A({},i)}))},e.prototype.page=function(t,n,r,i,a){var o,s={type:"page",properties:A({},r),options:A({},i),integrations:A({},a)};return t!==null&&(s.category=t,s.properties=(o=s.properties)!==null&&o!==void 0?o:{},s.properties.category=t),n!==null&&(s.name=n),this.normalize(A(A({},this.baseEvent()),s))},e.prototype.screen=function(t,n,r,i,a){var o={type:"screen",properties:A({},r),options:A({},i),integrations:A({},a)};return t!==null&&(o.category=t),n!==null&&(o.name=n),this.normalize(A(A({},this.baseEvent()),o))},e.prototype.identify=function(t,n,r,i){return this.normalize(A(A({},this.baseEvent()),{type:"identify",userId:t,traits:n,options:A({},r),integrations:A({},i)}))},e.prototype.group=function(t,n,r,i){return this.normalize(A(A({},this.baseEvent()),{type:"group",traits:n,options:A({},r),integrations:A({},i),groupId:t}))},e.prototype.alias=function(t,n,r,i){var a={userId:t,type:"alias",options:A({},r),integrations:A({},i)};return n!==null&&(a.previousId=n),t===void 0?this.normalize(A(A({},a),this.baseEvent())):this.normalize(A(A({},this.baseEvent()),a))},e.prototype.baseEvent=function(){var t={integrations:{},options:{}},n=this.user;return n.id()&&(t.userId=n.id()),n.anonymousId()&&(t.anonymousId=n.anonymousId()),t},e.prototype.context=function(t){var n,r,i,a=["integrations","anonymousId","timestamp","userId"],o=(n=t.options)!==null&&n!==void 0?n:{};delete o.integrations;var s=Object.keys(o),u=(i=(r=t.options)===null||r===void 0?void 0:r.context)!==null&&i!==void 0?i:{},f={};return s.forEach(function(d){d!=="context"&&(a.includes(d)?Kt(f,d,o[d]):Kt(u,d,o[d]))}),[u,f]},e.prototype.normalize=function(t){var n,r,i;((n=t.options)===null||n===void 0?void 0:n.anonymousId)&&this.user.anonymousId(t.options.anonymousId);var a=Object.keys((r=t.integrations)!==null&&r!==void 0?r:{}).reduce(function(S,E){var b,y;return A(A({},S),(b={},b[E]=Boolean((y=t.integrations)===null||y===void 0?void 0:y[E]),b))},{}),o=A(A({},a),(i=t.options)===null||i===void 0?void 0:i.integrations),s=this.context(t),u=s[0],f=s[1],d=t.options,g=ha(t,["options"]),h=A(A(A({timestamp:new Date},g),{context:u,integrations:o}),f),m="ajs-next-"+La.default.hash(JSON.stringify(h)+_t()),_=A(A({},h),{messageId:m});return _},e}();var Ce={getItem:function(){},setItem:function(){},removeItem:function(){}};try{Ce=Gt()&&window.localStorage?window.localStorage:Ce}catch(e){console.warn("Unable to access localStorage",e)}function Ba(e){var t=Ce.getItem(e);return(t?JSON.parse(t):[]).map(function(n){return new Se(n.event,n.id)})}function Uf(e,t){var n=Ba(e),r=$($([],t,!0),n,!0),i=r.reduce(function(a,o){var s;return A(A({},a),(s={},s[o.id]=o,s))},{});Ce.setItem(e,JSON.stringify(Object.values(i)))}function Va(e){var t=Ce.getItem(e);return t?JSON.parse(t):{}}function Bf(e,t){var n=Va(e);Ce.setItem(e,JSON.stringify(A(A({},n),t)))}function za(e){Ce.removeItem(e)}var Vf=function(){return new Date().getTime()};function bn(e,t,n){n===void 0&&(n=0);var r=50,i="persisted-queue:v1:".concat(e,":lock"),a=function(f){return new Date().getTime()>f},o=Ce.getItem(i),s=o?JSON.parse(o):null,u=s===null||a(s);if(u){Ce.setItem(i,JSON.stringify(Vf()+r)),t(),Ce.removeItem(i);return}!u&&n<3?setTimeout(function(){bn(e,t,n+1)},r):console.error("Unable to retrieve lock")}var We=function(e){W(t,e);function t(n,r){var i=e.call(this,n,[])||this,a="persisted-queue:v1:".concat(r,":items"),o="persisted-queue:v1:".concat(r,":seen"),s=[],u={};return bn(r,function(){try{s=Ba(a),u=Va(o),za(a),za(o),i.queue=$($([],s,!0),i.queue,!0),i.seen=A(A({},u),i.seen)}catch(f){console.error(f)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var f=$($([],i.queue,!0),i.future,!0);try{bn(r,function(){Uf(a,f),Bf(o,i.seen)})}catch(d){console.error(d)}}}),i}return t}(Ge);var Ha=function(e){W(t,e);function t(n){return e.call(this,n!=null?n:new We(4,"event-queue"))||this}return t}(Pa);var Qe="This is being deprecated and will be not be available in future releases of Analytics JS",zn=wt(),Hn=zn==null?void 0:zn.analytics;function Bd(e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=e?4:1,r=t?new Ge(n,[]):new We(n,"event-queue");return new Ha(r)}function Fe(){console.warn(Qe)}var me=et(Bn());function Mt(e,t){var n=new me.Facade(e,t);return e.type==="track"&&(n=new me.Track(e,t)),e.type==="identify"&&(n=new me.Identify(e,t)),e.type==="page"&&(n=new me.Page(e,t)),e.type==="alias"&&(n=new me.Alias(e,t)),e.type==="group"&&(n=new me.Group(e,t)),e.type==="screen"&&(n=new me.Screen(e,t)),Object.defineProperty(n,"obj",{value:e,writable:!0}),n}function Vn(e,t){return Object.keys(t).reduce(function(n,r){if(r.startsWith(e)){var i=r.substr(e.length);n[i]=t[r]}return n},{})}var Ao=function(e){W(t,e);function t(n,r,i,a,o){var s=this,u,f,d;s=e.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=Fe,s.addIntegrationMiddleware=Fe,s.listeners=Fe,s.addEventListener=Fe,s.removeAllListeners=Fe,s.removeListener=Fe,s.removeEventListener=Fe,s.hasListeners=Fe,s.add=Fe,s.addIntegration=Fe;var g=r==null?void 0:r.cookie,h=(u=r==null?void 0:r.disableClientPersistence)!==null&&u!==void 0?u:!1;return s.settings=n,s.settings.timeout=(f=s.settings.timeout)!==null&&f!==void 0?f:300,s.queue=i!=null?i:Bd(r==null?void 0:r.retryQueue,h),s._universalStorage=new it(h?["memory"]:["localStorage","cookie","memory"],Wt(g)),s._user=a!=null?a:new mn(h?A(A({},r==null?void 0:r.user),{persist:!1}):r==null?void 0:r.user,g).load(),s._group=o!=null?o:new qa(h?A(A({},r==null?void 0:r.group),{persist:!1}):r==null?void 0:r.group,g).load(),s.eventFactory=new Ua(s._user),s.integrations=(d=r==null?void 0:r.integrations)!==null&&d!==void 0?d:{},s.options=r!=null?r:{},St(s),s}return Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a,o,s,u,f,d=this;return O(this,function(g){return i=ma.apply(void 0,n),a=i[0],o=i[1],s=i[2],u=i[3],f=this.eventFactory.track(a,o,s,this.integrations),[2,this._dispatch(f,u).then(function(h){return d.emit("track",a,h.event.properties,h.event.options),h})]})})},t.prototype.page=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a,o,s,u,f,d,g=this;return O(this,function(h){return i=sn.apply(void 0,n),a=i[0],o=i[1],s=i[2],u=i[3],f=i[4],d=this.eventFactory.page(a,o,s,u,this.integrations),[2,this._dispatch(d,f).then(function(m){return g.emit("page",a,o,m.event.properties,m.event.options),m})]})})},t.prototype.identify=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a,o,s,u,f,d=this;return O(this,function(g){return i=un(this._user).apply(void 0,n),a=i[0],o=i[1],s=i[2],u=i[3],this._user.identify(a,o),f=this.eventFactory.identify(this._user.id(),this._user.traits(),s,this.integrations),[2,this._dispatch(f,u).then(function(h){return d.emit("identify",h.event.userId,h.event.traits,h.event.options),h})]})})},t.prototype.group=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(r.length===0)return this._group;var a=un(this._group).apply(void 0,r),o=a[0],s=a[1],u=a[2],f=a[3];this._group.identify(o,s);var d=this._group.id(),g=this._group.traits(),h=this.eventFactory.group(d,g,u,this.integrations);return this._dispatch(h,f).then(function(m){return n.emit("group",m.event.groupId,m.event.traits,m.event.options),m})},t.prototype.alias=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a,o,s,u,f,d=this;return O(this,function(g){return i=ya.apply(void 0,n),a=i[0],o=i[1],s=i[2],u=i[3],f=this.eventFactory.alias(a,o,s,this.integrations),[2,this._dispatch(f,u).then(function(h){return d.emit("alias",a,o,h.event.options),h})]})})},t.prototype.screen=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a,o,s,u,f,d,g=this;return O(this,function(h){return i=sn.apply(void 0,n),a=i[0],o=i[1],s=i[2],u=i[3],f=i[4],d=this.eventFactory.screen(a,o,s,u,this.integrations),[2,this._dispatch(d,f).then(function(m){return g.emit("screen",a,o,m.event.properties,m.event.options),m})]})})},t.prototype.trackClick=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a;return O(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>Jt())];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,$([this],n,!1))]}})})},t.prototype.trackLink=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a;return O(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>Jt())];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,$([this],n,!1))]}})})},t.prototype.trackSubmit=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a;return O(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>Jt())];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,$([this],n,!1))]}})})},t.prototype.trackForm=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a;return O(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>Jt())];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,$([this],n,!1))]}})})},t.prototype.register=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a,o=this;return O(this,function(s){switch(s.label){case 0:return i=Se.system(),a=n.map(function(u){return o.queue.register(i,u,o)}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},t.prototype.deregister=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return I(this,void 0,void 0,function(){var i,a,o=this;return O(this,function(s){switch(s.label){case 0:return i=Se.system(),a=n.map(function(u){var f=o.queue.plugins.find(function(d){return d.name===u});if(f)return o.queue.deregister(i,f,o);i.log("warn","plugin ".concat(u," not found"))}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},t.prototype.debug=function(n){return n===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=n,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(n){this.settings.timeout=n},t.prototype._dispatch=function(n,r){return I(this,void 0,void 0,function(){var i;return O(this,function(a){return i=new Se(n),Pe()&&!this.options.retryQueue?[2,i]:[2,ja(i,this.queue,this,{callback:r,debug:this._debug,timeout:this.settings.timeout})]})})},t.prototype.addSourceMiddleware=function(n){return I(this,void 0,void 0,function(){var r=this;return O(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return I(r,void 0,void 0,function(){var a,o,s;return O(this,function(u){switch(u.label){case 0:return[4,Promise.resolve().then(()=>Nr())];case 1:return a=u.sent().sourceMiddlewarePlugin,o={},this.queue.plugins.forEach(function(f){if(f.type==="destination")return o[f.name]=!0}),s=a(n,o),[4,this.register(s)];case 2:return u.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},t.prototype.addDestinationMiddleware=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this.queue.plugins.filter(function(o){return o.name.toLowerCase()===n.toLowerCase()});return a.forEach(function(o){o.addMiddleware.apply(o,r)}),Promise.resolve(this)},t.prototype.setAnonymousId=function(n){return this._user.anonymousId(n)},t.prototype.queryString=function(n){return I(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return[4,Promise.resolve().then(()=>Eo())];case 1:return r=i.sent().queryString,[2,r(this,n)]}})})},t.prototype.use=function(n){return n(this),this},t.prototype.ready=function(n){return n===void 0&&(n=function(r){return r}),I(this,void 0,void 0,function(){return O(this,function(r){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return n(i),i})]})})},t.prototype.noConflict=function(){return console.warn(Qe),window.analytics=Hn!=null?Hn:this,this},t.prototype.normalize=function(n){return console.warn(Qe),this.eventFactory.normalize(n)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(Qe),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return je},enumerable:!1,configurable:!0}),t.prototype.initialize=function(n,r){return I(this,void 0,void 0,function(){return O(this,function(i){return console.warn(Qe),[2,Promise.resolve(this)]})})},t.prototype.pageview=function(n){return I(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return console.warn(Qe),[4,this.page({path:n})];case 1:return r.sent(),[2,this]}})})},Object.defineProperty(t.prototype,"plugins",{get:function(){var n;return console.warn(Qe),(n=this._plugins)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){console.warn(Qe);var n=this.queue.plugins.filter(function(r){return r.type==="destination"}).reduce(function(r,i){var a="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),o=window[a];if(!o)return r;var s=o.Integration;return s?(r[i.name]=s,r):(r[i.name]=o,r)},{});return n},enumerable:!1,configurable:!0}),t.prototype.push=function(n){var r=this,i=n.shift();i&&!r[i]||r[i].apply(this,n)},t}(bt);function Gn(){return typeof process=="undefined"||!process.env?{}:process.env}var Vd=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,zd=function(){var e,t=Array.prototype.slice.call(document.querySelectorAll("script"));return t.forEach(function(n){var r,i=(r=n.getAttribute("src"))!==null&&r!==void 0?r:"",a=Vd.exec(i);a&&a[1]&&(e=a[1])}),e},Mr,Hd=function(){var e,t=Mr!=null?Mr:(e=window.analytics)===null||e===void 0?void 0:e._cdn;return t},Io=function(e){window.analytics&&(window.analytics._cdn=e),Mr=e},er=function(){var e=Hd();if(e)return e;var t=zd();return t||"https://cdn.segment.com"},tr=function(){var e=er();return"".concat(e,"/next-integrations")};function Rr(e,t){var n,r=Object.entries((n=t.integrations)!==null&&n!==void 0?n:{}).reduce(function(i,a){var o,s,u=a[0],f=a[1];return typeof f=="object"?A(A({},i),(o={},o[u]=f,o)):A(A({},i),(s={},s[u]={},s))},{});return Object.entries(e.integrations).reduce(function(i,a){var o,s=a[0],u=a[1];return A(A({},i),(o={},o[s]=A(A({},u),r[s]),o))},{})}var Oo=function(){var e,t,n=new Promise(function(r,i){e=r,t=i});return{resolve:e,reject:t,promise:n}};function Po(){var e=document.getElementsByTagName("link"),t="";return Array.prototype.slice.call(e).forEach(function(n){n.getAttribute("rel")==="canonical"&&(t=n.getAttribute("href"))}),t}function Gd(){var e=Po();if(!e)return window.location.pathname;var t=document.createElement("a");t.href=e;var n=t.pathname.startsWith("/")?t.pathname:"/"+t.pathname;return n}function Kd(e){e===void 0&&(e="");var t=Po();if(t)return t.includes("?")?t:"".concat(t).concat(e);var n=window.location.href,r=n.indexOf("#");return r===-1?n:n.slice(0,r)}function jo(){return{path:Gd(),referrer:document.referrer,search:location.search,title:document.title,url:Kd(location.search)}}function rr(e){var t,n=e.event;n.context=n.context||{};var r=jo(),i=(t=n.properties)!==null&&t!==void 0?t:{};return Object.keys(r).forEach(function(a){i[a]&&(r[a]=i[a])}),n.context.page&&(r=Object.assign({},r,n.context.page)),n.context=Object.assign({},n.context,{page:r}),e.event=n,e}var Co={name:"Page Enrichment",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:function(e){return e.event.properties=Object.assign({},jo(),e.event.properties),e.event.name&&(e.event.properties.name=e.event.name),rr(e)},alias:rr,track:rr,identify:rr,group:rr};function To(e){var t=Array.prototype.slice.call(window.document.querySelectorAll("script"));return t.find(function(n){return n.src===e})}function ze(e,t){var n=To(e);if(n!==void 0){var r=n==null?void 0:n.getAttribute("status");if(r==="loaded")return Promise.resolve(n);if(r==="loading")return new Promise(function(i,a){n.addEventListener("load",function(){return i(n)}),n.addEventListener("error",function(o){return a(o)})})}return new Promise(function(i,a){var o,s=window.document.createElement("script");s.type="text/javascript",s.src=e,s.async=!0,s.setAttribute("status","loading");for(var u=0,f=Object.entries(t!=null?t:{});u<f.length;u++){var d=f[u],g=d[0],h=d[1];s.setAttribute(g,h)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),a(new Error("Failed to load ".concat(e)))};var m=window.document.getElementsByTagName("script")[0];(o=m.parentElement)===null||o===void 0||o.insertBefore(s,m)})}function Fo(e){var t=To(e);return t!==void 0&&t.remove(),Promise.resolve()}var qo=Nr();var Wd=function(){function e(t,n){this.version="1.0.0",this.alternativeNames=[],this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=n,this.name=t,this.type=n.type,this.alternativeNames.push(n.name)}return e.prototype.addMiddleware=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.type==="destination"&&(t=this.middleware).push.apply(t,n)},e.prototype.transform=function(t){return I(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return[4,(0,qo.applyDestinationMiddleware)(this.name,t.event,this.middleware)];case 1:return n=r.sent(),n===null&&t.cancel(new pe({retry:!1,reason:"dropped by destination middleware"})),[2,new Se(n)]}})})},e.prototype._createMethod=function(t){var n=this;return function(r){return I(n,void 0,void 0,function(){var i;return O(this,function(a){switch(a.label){case 0:return this.action[t]?(i=r,this.type!=="destination"?[3,2]:[4,this.transform(r)]):[2,r];case 1:i=a.sent(),a.label=2;case 2:return[4,this.action[t](i)];case 3:return a.sent(),[2,r]}})})}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return this.action.ready?this.action.ready():Promise.resolve()},e.prototype.load=function(t,n){return this.action.load(t,n)},e.prototype.unload=function(t,n){var r,i;return(i=(r=this.action).unload)===null||i===void 0?void 0:i.call(r,t,n)},e}();function $d(e){if(!Array.isArray(e))throw new Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];return e.forEach(function(n){t.forEach(function(r){var i;if(n[r]===void 0)throw new Error("Plugin: ".concat((i=n.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(r))})}),!0}function Jd(e,t){var n=e[t.creationName],r=e[t.name];return e.All===!1&&!n&&!r||n===!1||r===!1}function ko(e,t,n,r,i){var a,o,s;return I(this,void 0,void 0,function(){var u,f,d,g,h=this;return O(this,function(m){switch(m.label){case 0:return u=[],f=er(),d=(o=(a=e.middlewareSettings)===null||a===void 0?void 0:a.routingRules)!==null&&o!==void 0?o:[],g=((s=e.remotePlugins)!==null&&s!==void 0?s:[]).map(function(_){return I(h,void 0,void 0,function(){var S,E,b,y,l,c,v,p,R,H;return O(this,function(U){switch(U.label){case 0:if(Jd(t,_))return[2];U.label=1;case 1:if(U.trys.push([1,12,,13]),!r)return[3,7];S=_.url.split("/"),E=S[S.length-2],b=_.url.replace(E,btoa(E).replace(/=/g,"")),U.label=2;case 2:return U.trys.push([2,4,,6]),[4,ze(b.replace("https://cdn.segment.com",f))];case 3:return U.sent(),[3,6];case 4:return y=U.sent(),[4,ze(_.url.replace("https://cdn.segment.com",f))];case 5:return U.sent(),[3,6];case 6:return[3,9];case 7:return[4,ze(_.url.replace("https://cdn.segment.com",f))];case 8:U.sent(),U.label=9;case 9:return l=_.libraryName,typeof window[l]!="function"?[3,11]:(c=window[l],[4,c(A(A({},_.settings),n[_.name]))]);case 10:v=U.sent(),p=Array.isArray(v)?v:[v],$d(p),R=d.filter(function(Z){return Z.destinationName===_.creationName}),p.forEach(function(Z){var De=new Wd(_.creationName,Z);R.length&&i&&Z.type==="destination"&&De.addMiddleware(i),u.push(De)}),U.label=11;case 11:return[3,13];case 12:return H=U.sent(),console.warn("Failed to load Remote Plugin",H),[3,13];case 13:return[2]}})})}),[4,Promise.all(g)];case 1:return m.sent(),[2,u.filter(Boolean)]}})})}var Do=function(e){var t=!1;window.addEventListener("pagehide",function(){t||(t=!0,e())}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(t)return;t=!0,e()}else t=!1})};var Xd=500;function No(e){var t=encodeURI(JSON.stringify(e)).split(/%..|./).length-1;return t/1024}function Qd(e){return No(e)>=Xd-50}function Yd(e){var t=[],n=0;return e.forEach(function(r){var i=No(t[n]);i>=64&&n++,t[n]?t[n].push(r):t[n]=[r]}),t}function Kn(e,t){var n,r,i=[],a=!1,o=(n=t==null?void 0:t.size)!==null&&n!==void 0?n:10,s=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:5e3;function u(m){var _;if(m.length!==0){var S=(_=m[0])===null||_===void 0?void 0:_.writeKey;return Ke("https://".concat(e,"/b"),{keepalive:a,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({batch:m,writeKey:S})})}}function f(){return I(this,void 0,void 0,function(){var m;return O(this,function(_){return i.length?(m=i,i=[],[2,u(m)]):[2]})})}var d;function g(){d||(d=setTimeout(function(){d=void 0,f().catch(console.error)},s))}Do(function(){if(a=!0,i.length){var m=Yd(i).map(u);Promise.all(m).catch(console.error)}});function h(m,_){return I(this,void 0,void 0,function(){var S;return O(this,function(E){return i.push(_),S=i.length>=o||Qd(i),[2,S||a?f():g()]})})}return{dispatch:h}}function Mo(){function e(t,n){return Ke(t,{headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(n)})}return{dispatch:e}}var Lr=function(e,t){return I(void 0,void 0,void 0,function(){var n;return O(this,function(r){return n=function(i){return I(void 0,void 0,void 0,function(){var a;return O(this,function(o){switch(o.label){case 0:return e(i)?(a=n,[4,t()]):[3,2];case 1:return[2,a.apply(void 0,[o.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})};function Zd(e,t){return I(this,void 0,void 0,function(){var n,r=this;return O(this,function(i){switch(i.label){case 0:return n=[],Pe()?[2,t]:[4,Lr(function(){return t.length>0&&!Pe()},function(){return I(r,void 0,void 0,function(){var a,o,s;return O(this,function(u){switch(u.label){case 0:return a=t.pop(),a?[4,Ve(a,e)]:[2];case 1:return o=u.sent(),s=o instanceof Se,s||n.push(a),[2]}})})})];case 1:return i.sent(),n.map(function(a){return t.pushWithBackoff(a)}),[2,t]}})})}function ut(e,t,n,r){var i=this;e||setTimeout(function(){return I(i,void 0,void 0,function(){var a,o;return O(this,function(s){switch(s.label){case 0:return a=!0,[4,Zd(n,t)];case 1:return o=s.sent(),a=!1,t.todo>0&&r(a,o,n,r),[2]}})})},Math.random()*5e3)}function ep(e,t){var n,r,i,a,o=e.user();return t.previousId=(i=(r=(n=t.previousId)!==null&&n!==void 0?n:t.from)!==null&&r!==void 0?r:o.id())!==null&&i!==void 0?i:o.anonymousId(),t.userId=(a=t.userId)!==null&&a!==void 0?a:t.to,delete t.from,delete t.to,t}function Ro(e,t,n){var r,i,a,o;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(u)),u.clear()});var s=e.options.disableClientPersistence?new Ge(e.queue.queue.maxAttempts,[]):new We(e.queue.queue.maxAttempts,"dest-Segment.io"),u=new Set,f=!1,d=(r=t==null?void 0:t.apiHost)!==null&&r!==void 0?r:"api.segment.io/v1",g=(i=t==null?void 0:t.protocol)!==null&&i!==void 0?i:"https",h="".concat(g,"://").concat(d),m=((a=t==null?void 0:t.deliveryStrategy)===null||a===void 0?void 0:a.strategy)==="batching"?Kn(d,(o=t==null?void 0:t.deliveryStrategy)===null||o===void 0?void 0:o.config):Mo();function _(E){return I(this,void 0,void 0,function(){var b,y;return O(this,function(l){return Pe()?(s.push(E),ut(f,s,S,ut),[2,E]):(u.add(E),b=E.event.type.charAt(0),y=Mt(E.event).json(),E.event.type==="track"&&delete y.traits,E.event.type==="alias"&&(y=ep(e,y)),[2,m.dispatch("".concat(h,"/").concat(b),ka(e,y,t,n)).then(function(){return E}).catch(function(){return s.pushWithBackoff(E),ut(f,s,S,ut),E}).finally(function(){u.delete(E)})])})})}var S={name:"Segment.io",type:"after",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:_,identify:_,page:_,alias:_,group:_};return s.todo&&ut(f,s,S,ut),S}var Lo=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"};var Uo=function(e,t,n){n.getCalls(e).forEach(function(r){Wn(t,r).catch(console.error)})},Bo=function(e,t){return I(void 0,void 0,void 0,function(){var n,r,i;return O(this,function(a){switch(a.label){case 0:n=0,r=t.getCalls("addSourceMiddleware"),a.label=1;case 1:return n<r.length?(i=r[n],[4,Wn(e,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},Vo=Uo.bind(void 0,"on"),zo=Uo.bind(void 0,"setAnonymousId"),Ho=function(e,t){t.toArray().forEach(function(n){setTimeout(function(){Wn(e,n).catch(console.error)},0)})},tp=function(){function e(){this._value={}}return e.prototype.toArray=function(){var t;return(t=[]).concat.apply(t,Object.values(this._value))},e.prototype.getCalls=function(t){var n;return(n=this._value[t])!==null&&n!==void 0?n:[]},e.prototype.push=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(i){t._value[i.method]?t._value[i.method].push(i):t._value[i.method]=[i]}),this},e.prototype.clear=function(){return this._value={},this},e}();function Wn(e,t){return I(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t.called?[2,void 0]:(t.called=!0,n=e[t.method].apply(e,t.args),Lo(n)?[4,n]:[3,2]);case 1:i.sent(),i.label=2;case 2:return t.resolve(n),[3,4];case 3:return r=i.sent(),t.reject(r),[3,4];case 4:return[2]}})})}var Go=function(){function e(t){var n=this;this._preInitBuffer=new tp,this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=je,this._promise=t(this._preInitBuffer),this._promise.then(function(r){var i=r[0],a=r[1];n.instance=i,n.ctx=a}).catch(function(){})}return e.prototype.then=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=this._promise).then.apply(t,n)},e.prototype.catch=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=this._promise).catch.apply(t,n)},e.prototype.finally=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=this._promise).finally.apply(t,n)},e.prototype._createMethod=function(t){var n=this;return function(){for(var r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n.instance){var o=(r=n.instance)[t].apply(r,i);return Promise.resolve(o)}return new Promise(function(s,u){n._preInitBuffer.push({method:t,args:i,resolve:s,reject:u,called:!1})})}},e.prototype._createChainableMethod=function(t){var n=this;return function(){for(var r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return n.instance?((r=n.instance)[t].apply(r,i),n):(n._preInitBuffer.push({method:t,args:i,resolve:function(){},reject:console.error,called:!1}),n)}},e}();function rp(e){var t=e[0],n=e.slice(1);return{method:t,resolve:function(){},reject:console.error,args:n,called:!1}}var np=function(e){return e.map(rp)},Ur=function(){var e=window.analytics;if(!Array.isArray(e))return[];var t=e.splice(0,e.length);return np(t)};var $n,Ko,ip=wt(),Wo=($n=(Ko=ip).__SEGMENT_INSPECTOR__)!==null&&$n!==void 0?$n:Ko.__SEGMENT_INSPECTOR__={},$o=function(e){var t;return(t=Wo.attach)===null||t===void 0?void 0:t.call(Wo,e)};function sy(e,t){var n=t!=null?t:er();return Ke("".concat(n,"/v1/projects/").concat(e,"/settings")).then(function(r){return r.ok?r.json():r.text().then(function(i){throw new Error(i)})}).catch(function(r){throw console.error(r.message),r})}function uy(e){return Gn().NODE_ENV!=="test"&&Object.keys(e.integrations).length>1}function ly(e){var t,n,r;return Gn().NODE_ENV!=="test"&&((r=(n=(t=e.middlewareSettings)===null||t===void 0?void 0:t.routingRules)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0)>0}function cy(e,t){t.push.apply(t,Ur()),zo(e,t),Vo(e,t)}function fy(e,t){return I(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return t.push.apply(t,Ur()),[4,Bo(e,t)];case 1:return n.sent(),t.push.apply(t,Ur()),Ho(e,t),t.clear(),[2]}})})}function Kr(e,t){var n,r;return typeof(t==null?void 0:t.enabled)=="boolean"?t.enabled:(r=(n=e==null?void 0:e.__default)===null||n===void 0?void 0:n.enabled)!==null&&r!==void 0?r:!0}function Mc(e){return e.toLowerCase().replace(".","").replace(/\s+/g,"-")}function Rc(e,t){return t===void 0&&(t=!1),t?btoa(e).replace(/=/g,""):void 0}function Lc(e){return("Integration"in e?e.Integration:e).prototype.name}function Xm(e,t,n){var r,i;try{var a=((i=(r=window==null?void 0:window.performance)===null||r===void 0?void 0:r.getEntriesByName(e,"resource"))!==null&&i!==void 0?i:[])[0];a&&t.stats.gauge("legacy_destination_time",Math.round(a.duration),$([n],a.duration<100?["cached"]:[],!0))}catch(o){}}function Uc(e,t,n){var r;if("Integration"in e){var i={user:function(){return n.user()},addIntegration:function(){}};e(i),r=e.Integration}else r=e;var a=new r(t);return a.analytics=n,a}function Bc(e,t,n,r){return I(this,void 0,void 0,function(){var i,a,o,s,u,f;return O(this,function(d){switch(d.label){case 0:i=Mc(t),a=Rc(i,r),o=tr(),s="".concat(o,"/integrations/").concat(a!=null?a:i,"/").concat(n,"/").concat(a!=null?a:i,".dynamic.js.gz"),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,ze(s)];case 2:return d.sent(),Xm(s,e,t),[3,4];case 3:throw u=d.sent(),e.stats.gauge("legacy_destination_time",-1,["plugin:".concat(t),"failed"]),u;case 4:return f=window["".concat(i,"Deps")],[4,Promise.all(f.map(function(g){return ze(o+g+".gz")}))];case 5:return d.sent(),window["".concat(i,"Loader")](),[2,window["".concat(i,"Integration")]]}})})}function Vc(e,t,n){return I(this,void 0,void 0,function(){var r,i,a,o;return O(this,function(s){return r=tr(),i=Mc(e),a=Rc(e,n),o="".concat(r,"/integrations/").concat(a!=null?a:i,"/").concat(t,"/").concat(a!=null?a:i,".dynamic.js.gz"),[2,Fo(o)]})})}function zc(e){var t,n,r,i;return(i=(n=(t=e==null?void 0:e.versionSettings)===null||t===void 0?void 0:t.override)!==null&&n!==void 0?n:(r=e==null?void 0:e.versionSettings)===null||r===void 0?void 0:r.version)!==null&&i!==void 0?i:"latest"}var Hc=function(e,t){var n,r=t.type,i=t.bundlingStatus,a=t.versionSettings,o=i!=="unbundled"&&(r==="browser"||((n=a==null?void 0:a.componentTypes)===null||n===void 0?void 0:n.includes("browser")));return!e.startsWith("Segment")&&e!=="Iterable"&&o},Gc=function(e,t){var n=t.All===!1&&t[e]===void 0;return t[e]===!1||n};function dy(e,t,n,r,i,a){var o,s,u;return I(this,void 0,void 0,function(){var f,d,g,h,m,_,S,E,b,y,l,c=this;return O(this,function(v){switch(v.label){case 0:return ly(e)?[4,Promise.resolve().then(()=>Nc()).then(function(p){return p.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return d=v.sent(),[3,3];case 2:d=void 0,v.label=3;case 3:return f=d,uy(e)||a.length>0?[4,Promise.resolve().then(()=>$c()).then(function(p){return p.ajsDestinations(e,t.integrations,n,f,a)})]:[3,5];case 4:return h=v.sent(),[3,6];case 5:h=[],v.label=6;case 6:return g=h,e.legacyVideoPluginsEnabled?[4,Promise.resolve().then(()=>Xc()).then(function(p){return p.loadLegacyVideoPlugins(t)})]:[3,8];case 7:v.sent(),v.label=8;case 8:return((o=n.plan)===null||o===void 0?void 0:o.track)?[4,Promise.resolve().then(()=>Qc()).then(function(p){var R;return p.schemaFilter((R=n.plan)===null||R===void 0?void 0:R.track,e)})]:[3,10];case 9:return _=v.sent(),[3,11];case 10:_=void 0,v.label=11;case 11:return m=_,S=Rr(e,r),[4,ko(e,t.integrations,S,r.obfuscate,f).catch(function(){return[]})];case 12:return E=v.sent(),b=$($($([va,Co],i,!0),g,!0),E,!0),m&&b.push(m),y=((s=n.integrations)===null||s===void 0?void 0:s.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,y||b.push(Ro(t,S["Segment.io"],e.integrations)),[4,t.register.apply(t,b)];case 13:return l=v.sent(),Object.entries((u=e.enabledMiddleware)!==null&&u!==void 0?u:{}).some(function(p){var R=p[1];return R})?[4,Promise.resolve().then(()=>Yc()).then(function(p){var R=p.remoteMiddlewares;return I(c,void 0,void 0,function(){var H,U;return O(this,function(Z){switch(Z.label){case 0:return[4,R(l,e,r.obfuscate)];case 1:return H=Z.sent(),U=H.map(function(De){return t.addSourceMiddleware(De)}),[2,Promise.all(U)]}})})})]:[3,15];case 14:v.sent(),v.label=15;case 15:return[2,l]}})})}function py(e,t,n){var r,i,a,o,s,u,f;return t===void 0&&(t={}),I(this,void 0,void 0,function(){var d,g,h,m,_,S,E,b,y,l,c;return O(this,function(v){switch(v.label){case 0:return e.cdnURL&&Io(e.cdnURL),(r=e.cdnSettings)!==null&&r!==void 0?(g=r,[3,3]):[3,1];case 1:return[4,sy(e.writeKey,e.cdnURL)];case 2:g=v.sent(),v.label=3;case 3:return d=g,h=(a=(i=d.integrations["Segment.io"])===null||i===void 0?void 0:i.retryQueue)!==null&&a!==void 0?a:!0,m=A({retryQueue:h},t),_=new Ao(e,m),$o(_),S=(o=e.plugins)!==null&&o!==void 0?o:[],E=(s=e.classicIntegrations)!==null&&s!==void 0?s:[],Cr.initRemoteMetrics(d.metrics),cy(_,n),[4,dy(d,_,m,t,S,E)];case 4:return b=v.sent(),y=(u=window.location.search)!==null&&u!==void 0?u:"",l=(f=window.location.hash)!==null&&f!==void 0?f:"",c=y.length?y:l.replace(/(?=#).*(?=\?)/,""),c.includes("ajs_")?[4,_.queryString(c).catch(console.error)]:[3,6];case 5:v.sent(),v.label=6;case 6:return _.initialized=!0,_.emit("initialize",e,t),t.initialPageview&&_.page().catch(console.error),[4,fy(_,n)];case 7:return v.sent(),[2,[_,b]]}})})}var $r=function(e){W(t,e);function t(){var n=this,r=Oo(),i=r.promise,a=r.resolve;return n=e.call(this,function(o){return i.then(function(s){var u=s[0],f=s[1];return py(u,f,o)})})||this,n._resolveLoadStart=function(o,s){return a([o,s])},n}return t.prototype.load=function(n,r){return r===void 0&&(r={}),this._resolveLoadStart(n,r),this},t.load=function(n,r){return r===void 0&&(r={}),new t().load(n,r)},t.standalone=function(n,r){return t.load({writeKey:n},r).then(function(i){return i[0]})},t}(Go);var Ti=class extends mt{initialize(t){super.initialize(t),this.analyics=$r.load({writeKey:t.apiKey}),console.log(`Initializing the AMPLITUDE provider with ${t.apiKey}`)}startExperiment(t,n,r){console.log(`Experimenting on amplitude for ${t} with variation ${n}`),r&&(console.log("Identifying the user"),this.analyics.identify({target:{identifer:r.identifier,name:r.name}})),this.analyics.track("Experiment",{flag:t,variation:n})}},Zc=Ti;var Fi=class extends mt{initialize(t){super.initialize(t),this.analyics=$r.load({writeKey:t.apiKey}),console.log(`Initializing the AMPLITUDE provider with ${t.apiKey}`)}startExperiment(t,n,r){console.log(`Experimenting on amplitude for ${t} with variation ${n}`),r&&(console.log("Identifying the user"),this.analyics.identify({target:{identifer:r.identifier,name:r.name}})),this.analyics.track("Experiment",{flag:t,variation:n})}},ef=Fi;var tf=new Map([["noop",()=>new Ui],["amplitude",()=>new Zc],["segment",()=>new ef]]),hy=e=>{let t=e.toLowerCase();return(tf.get(t)||tf.get("noop"))()},rf=e=>{let t=hy(e.provider);return t!==void 0&&t.initialize(e.config),t};var my="1.4.14",yy=500,Jr=globalThis.fetch,gy=nf.EventSourcePolyfill,ur=!!globalThis.Proxy,Xr=e=>{let{value:t}=e;try{switch(e.kind.toLowerCase()){case"int":case"number":t=Number(t);break;case"boolean":t=t.toString().toLowerCase()==="true";break;case"json":t=JSON.parse(t);break}}catch(n){vt(n)}return t},af=(e,t,n)=>{let r=!1,i,a,o,s,u,f=!0,d=()=>{f=!1},g=()=>{f=!0},h=[],m=Mi(),_=Oe(Oe({},Li),n),S=(F,...q)=>{_.debug&&console.debug(`[FF-SDK] ${F}`,...q)},E=F=>{if(f){let q=Date.now();q-F.lastAccessed>yy&&(F.count++,F.lastAccessed=q)}};globalThis.onbeforeunload=()=>{h.length&&globalThis.localStorage&&(d(),globalThis.localStorage.HARNESS_FF_METRICS=JSON.stringify(h),g())};let b=(F,q)=>hr(void 0,null,function*(){return(yield(yield Jr(`${q.baseUrl}/client/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:F,target:Oe(Oe({},t),{identifier:String(t.identifier)})})})).json()).authToken}),y=()=>{if(h.length){S("Sending metrics...",{metrics:h,evaluations:l});let F={metricsData:h.map(q=>({timestamp:Date.now(),count:q.count,metricsType:"FFMETRICS",attributes:[{key:"featureIdentifier",value:q.featureIdentifier},{key:"featureName",value:q.featureIdentifier},{key:"variationIdentifier",value:q.variationIdentifier},{key:"target",value:t.identifier},{key:"SDK_NAME",value:"JavaScript"},{key:"SDK_LANGUAGE",value:"JavaScript"},{key:"SDK_TYPE",value:"client"},{key:"SDK_VERSION",value:my}]}))};Jr(`${_.eventUrl}/metrics/${i}?cluster=${a}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(F)}).then(()=>{h=[]}).catch(q=>{S(q)}).finally(()=>{u=window.setTimeout(y,yr)})}else u=window.setTimeout(y,yr)},l={},c=F=>{S("Sending event for",F.flag),ur?m.emit(se.CHANGED,new Proxy(F,{get(q,C){var V;if(q.hasOwnProperty(C)&&C==="value"){let K=q.flag,te=F.value,ne=h.find(de=>de.featureIdentifier===K&&de.featureValue===te);ne?(E(ne),ne.variationIdentifier=((V=l[K])==null?void 0:V.identifier)||""):h.push({featureIdentifier:K,featureValue:String(te),variationIdentifier:l[K].identifier||"",count:f?1:0,lastAccessed:Date.now()}),S("Metrics event: Flag",C,"has been read with value via stream update",te)}return C==="value"?Xr(F):F[C]}})):m.emit(se.CHANGED,{deleted:F.deleted,flag:F.flag,value:Xr(F)})},v=function(){return ur?new Proxy({},{get(F,q){var V,K,te;let C=F[q];if(F.hasOwnProperty(q)){let ne=F[q],de=h.find(cr=>cr.featureIdentifier===q&&ne===cr.featureValue);de?(de.variationIdentifier=((V=l[q])==null?void 0:V.identifier)||"",E(de)):h.push({featureIdentifier:q,featureValue:ne,variationIdentifier:((K=l[q])==null?void 0:K.identifier)||"",count:f?1:0,lastAccessed:Date.now()}),S("Metrics event: Flag:",q,"has been read with value:",ne,"variationIdentifier:",(te=l[q])==null?void 0:te.identifier)}return C}}):{}},p=v();b(e,_).then(F=>{if(r)return;s=F;let q=Ni(F);if(S("Authenticated",q),globalThis.localStorage&&globalThis.localStorage.HARNESS_FF_METRICS)try{delete globalThis.localStorage.HARNESS_FF_METRICS,S("Picking up metrics from previous session")}catch(C){}u=window.setTimeout(y,yr),i=q.environment,a=q.clusterIdentifier,R().then(()=>{S("Fetch all flags ok",p)}).then(()=>{r||U()}).then(()=>{r||(S("Event stream ready",{storage:p}),m.emit(se.READY,Oe({},p)),ur||Object.keys(p).forEach(C=>{var V;h.push({featureIdentifier:C,featureValue:p[C],variationIdentifier:((V=l[C])==null?void 0:V.identifier)||"",count:f?1:0,lastAccessed:Date.now()})}))}).catch(C=>{m.emit(se.ERROR,C)})}).catch(F=>{vt("Authentication error: ",F),m.emit(se.ERROR,F)});let R=()=>hr(void 0,null,function*(){try{(yield(yield Jr(`${_.baseUrl}/client/env/${i}/target/${t.identifier}/evaluations?cluster=${a}`,{headers:{Authorization:`Bearer ${s}`}})).json()).forEach(C=>{let V=Xr(C),K=p[C.flag];V!==K&&(S("Flag variation has changed for ",C.identifier),p[C.flag]=V,l[C.flag]=Oe(Oe({},C),{value:V}),c(C))})}catch(F){return vt("Features fetch operation error: ",F),m.emit(se.ERROR,F),F}}),H=F=>hr(void 0,null,function*(){var q;try{let C=yield Jr(`${_.baseUrl}/client/env/${i}/target/${t.identifier}/evaluations/${F}?cluster=${a}`,{headers:{Authorization:`Bearer ${s}`}});if(C.ok){let V=yield C.json(),K=Xr(V);if(d(),p[F]=K,l[F]=Oe(Oe({},V),{value:K}),g(),c(V),!ur){let te=V.flag,ne=h.find(de=>de.featureIdentifier===te&&de.featureValue===V.value);ne?(E(ne),ne.variationIdentifier=((q=l[te])==null?void 0:q.identifier)||""):h.push({featureIdentifier:te,featureValue:String(V.value),variationIdentifier:l[te].identifier||"",count:f?1:0,lastAccessed:Date.now()})}}else m.emit(se.ERROR,C)}catch(C){vt("Feature fetch operation error: ",C),m.emit(se.ERROR,C)}}),U=()=>{if(!_.streamEnabled){S("Stream is disabled by configuration. Note: Polling is not yet supported");return}o=new gy(`${_.baseUrl}/stream?cluster=${a}`,{headers:{Authorization:`Bearer ${s}`,"API-Key":e}}),o.onopen=C=>{S("Stream connected",C),m.emit(se.CONNECTED)},o.onclose=C=>{S("Stream disconnected"),m.emit(se.DISCONNECTED)},o.onerror=C=>{vt("Stream has issue",C),m.emit(se.ERROR,C)};let F=C=>{switch(C.event){case"create":setTimeout(()=>H(C.identifier),1e3);break;case"patch":H(C.identifier);break;case"delete":delete p[C.identifier],m.emit(se.CHANGED,{flag:C.identifier,value:void 0,deleted:!0}),S("Evaluation deleted",{message:C,storage:p});break}},q=C=>{C.event==="patch"&&R()};o.addEventListener("*",C=>{let V=JSON.parse(C.data);S("Received event from stream: ",V),V.domain==="flag"?F(V):V.domain==="target-segment"&&q(V)})},Z=(F,q)=>m.on(F,q),De=(F,q)=>{F?m.off(F,q):ft()},Bt=(F,q)=>{var V;let C=p[F];if(!ur&&C!==void 0){let K=C,te=F,ne=h.find(de=>de.featureIdentifier===te&&de.featureValue===K);ne?(E(ne),ne.variationIdentifier=((V=l[te])==null?void 0:V.identifier)||""):h.push({featureIdentifier:te,featureValue:K,count:f?1:0,variationIdentifier:l[te].identifier||"",lastAccessed:Date.now()})}return C!==void 0?C:q},lr=(F,q)=>{let C;n&&n.experiment?(C=rf(n.experiment),C.startExperiment(F,q,t)):console.log("experiment called but no experimentation config provided.")},ft=()=>{r=!0,S("Closing event stream"),p=v(),l={},clearTimeout(u),m.all.clear(),typeof(o==null?void 0:o.close)=="function"&&o.close()};return{on:Z,off:De,variation:Bt,experiment:lr,close:ft}};return vy;})();
/*! js-cookie v3.0.1 | MIT */
/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */
